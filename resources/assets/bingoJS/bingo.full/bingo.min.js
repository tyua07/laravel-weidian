window.console&&window.console.log||(window.console={log:function(){},error:function(){},info:function(){},table:function(){}});(function(){var a=false,c=null,b="";"use strict";var j=b,o=Object.prototype.toString,e=Object.prototype.hasOwnProperty,p=function(){},k,g=c,h=function(){if(g==c)g=$('<div style="display:none"></div>');return g},i=0,f=0,d=window.bingo={version:{major:1,minor:2,rev:0,toString:function(){return[this.major,this.minor,this.rev].join(".")}},isDebug:a,prdtVersion:b,supportWorkspace:a,stringEmpty:j,noop:p,newLine:"\r\n",hasOwnProp:function(b,a){return e.call(b,a)},trace:function(a){console.error&&console.error(a.stack||a.message||a+b)},isType:function(a,b){return o.apply(b)==="[object "+a+"]"},isUndefined:function(a){return typeof a==="undefined"||a===k},isNull:function(a){return a===c||this.isUndefined(a)},isBoolean:function(a){return this.isType("Boolean",a)},isNullEmpty:function(a){return this.isNull(a)||a===j},isFunction:function(a){return this.isType("Function",a)},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isString:function(a){return this.isType("String",a)},isObject:function(b){var a=this;return!a.isNull(b)&&a.isType("Object",b)&&!a.isElement(b)&&!a.isWindow(b)},isPlainObject:function(b){if(!this.isObject(b))return a;try{if(b.constructor&&!e.call(b,"constructor")&&!e.call(b.constructor.prototype,"isPrototypeOf"))return a}catch(d){return a}var c;for(c in b);return c===k||e.call(b,c)},isArray:function(a){return Array.isArray?Array.isArray(a):this.isType("Array",a)},isWindow:function(a){return!this.isNull(a)&&a==a.window},isElement:function(b){var c=b&&(b.ownerDocument||b).documentElement;return c?true:a},trim:function(a){return this.isString(a)?a.replace(/(^\s*)|(\s*$)|(^\u3000*)|(\u3000*$)|(^\ue4c6*)|(\ue4c6*$)/g,b):this.isNull(a)?b:a.toString()},isStringEquals:function(b,c){return b==c?true:!this.isString(b)||!this.isString(c)?a:b.toUpperCase()==c.toUpperCase()},replaceAll:function(a,b,d,c){if(this.isNullEmpty(a)||this.isNullEmpty(b))return a;b=b.replace(/([^A-Za-z0-9])/g,"\\$1");a=a.replace(new RegExp(b,c||"g"),d);return a},toStr:function(a){return this.isNull(a)?b:a.toString()},inArray:function(b,d,g,h){var e=this.isFunction(b)?b:c;if(arguments.length==2&&!e)return d&&d.indexOf&&d.indexOf(b);var f=-1;this.each(d,function(c,d){if(e){if(e.call(c,c,d)){f=d;return a}}else if(c===b){f=d;return a}},g,h);return f},removeArrayItem:function(d,b){for(var c=[],a=0,e=b.length;a<e;a++)b[a]!=d&&c.push(b[a]);return c},sliceArray:function(c,a,b){isNaN(a)&&(a=0);isNaN(b)&&(b=c.length);if(a<0)a=b+a;if(a<0)a=0;return Array.prototype.slice.call(c,a,a+b)},makeAutoId:function(){var a=(new Date).valueOf();f=a===i?f+1:0;i=a;return[a,f].join("_")},each:function(e,l,k,f){if(this.isNull(e)||!d.isNumeric(e.length))return;var i=c,b=d.isNumeric(k)?k:0;if(b<0)b=e.length+b;if(b<0)b=0;var j=f?b-1:e.length,h=f?e.length-1:b;if(f&&h<=j||!f&&h>=j)return;for(var m=f?-1:1,g=h;g!=j;g+=m){i=e[g];if(l.call(i,i,g)===a)break}},eachProp:function(b,f){if(!b)return;var c;for(var e in b)if(d.hasOwnProp(b,e)){c=b[e];if(f.call(c,c,e)===a)break}},htmlEncode:function(a){if(this.isNullEmpty(a))return b;var c=h();c.text(a);a=c.html();return a},htmlDecode:function(a){if(this.isNullEmpty(a))return b;var c=h();c.html(a);var d=c.text();return d},urlEncode:function(a){return this.isNullEmpty(a)?b:encodeURI(a)},urlDecode:function(a){return this.isNullEmpty(a)?b:decodeURI(a)},clearObject:function(a){for(var b=0,e=arguments.length;b<e;b++){a=arguments[b];d.eachProp(a,function(b,e){if(b&&b.$clearAuto===true)if(b.dispose)b.dispose();else d.clearObject(b);a[e]=c})}},extend:function(a){var b=arguments.length;if(b<=0)return a;if(b==1){for(var e in a)d.hasOwnProp(a,e)&&(this[e]=a[e]);return this}for(var f=c,g=1;g<b;g++){f=arguments[g];!this.isNull(f)&&d.eachProp(f,function(b,c){a[c]=b})}return a},clone:function(d,b,c){b=b!==a;return m.clone(d,b,c)},proxy:function(b,a){return function(){return a&&a.apply(b,arguments)}}},l=["bingoV"+d.version.major].join(b),n=[l,d.version.minor].join("_");window[l]=window[n]=d;var m={isCloneObject:function(a){return d.isPlainObject(a)},clone:function(a,b,c){return!a?a:d.isArray(a)?this.cloneArray(a,b):c||this.isCloneObject(a)?this.cloneObject(a,b,c):a},cloneObject:function(e,a,c){var b={};d.eachProp(e,function(d,e){if(a)d=m.clone(d,a,c);b[e]=d});return b},cloneArray:function(f,e){for(var g=[],b=c,h=f.length,d=0;d<h;d++){b=f[d];if(e!==a)b=this.clone(b,e);g.push(b)}return g}}})();(function(b){var a=null;"use strict";var c=/[\[\.]?[\'\"]?([^\[\]\.\'\"]+)[\'\"]?[\]\.]?/g,d=function(b){c.lastIndex=0;var a=[];b.replace(c,function(c,b){if(g(c)&&a.length>0)a[a.length-1].isArray=true;a.push({attrname:b,isArray:false})});return a},f=function(h,e,k){if(!h||b.isNullEmpty(e))return;if(e.indexOf(".")<0&&e.indexOf("]")<0)h[e]=k;for(var g=d(e),f=h,i=a,l=g.length-1,c=a,j=0;j<l;j++){i=g[j];c=i.attrname;if(b.isNull(f[c]))f[c]=i.isArray?[]:{};f=f[c]}c=g[l].attrname;f[c]=k},g=function(a){return a.indexOf("]")>=0&&(a.indexOf('"')<0&&a.indexOf("'")<0)},e=function(h,e){if(!h||b.isNullEmpty(e))return;if(e.indexOf(".")<0&&e.indexOf("]")<0)return h[e];for(var g=d(e),f=h,j=a,k=g.length-1,c=a,i=0;i<k;i++){j=g[i];c=j.attrname;if(b.isNull(f[c]))return f[c];f=f[c]}c=g[k].attrname;return f[c]};b.extend({datavalue:function(a,b,c){if(arguments.length>=3)f(a,b,c);else return e(a,b)}})})(bingo);(function(c){var b=null,a=true;"use strict";c.Event=function(f,e){var b=function(a){a&&b.on(a);return arguments.length==0?b:this};b.__bg_isEvent__=a;b.__eventList__=e||[];c.extend(b,d);b.owner(f);return b};c.isEvent=function(b){return b&&b.__bg_isEvent__===a};var d={_end:false,_endArg:undefined,owner:function(a){if(arguments.length==0)return this.__owner__;else{this.__owner__=a;return this}},_this:function(){return this.owner()||this},on:function(a){if(a)this._checkEnd(a)||this.__eventList__.push({one:false,callback:a});return this},one:function(b){if(b)this._checkEnd(b)||this.__eventList__.push({one:a,callback:b});return this},off:function(b){var a=this;if(b){var d=[];c.each(a.__eventList__,function(){this.callback!=b&&d.push(this)});a.__eventList__=d}else a.__eventList__=[];return a},_checkEnd:function(b){var a=this;if(a._end){var d=a._endArg||[],c=a._this();setTimeout(function(){b.apply(c,d)},1)}return a._end},end:function(c){var b=this;b._end=a;b._endArg=c;b.trigger(c);b.off();return b},trigger:function(){var f=this;for(var h=f.__eventList__,i=b,e=b,d=b,j=f._this(),g=0,k=h.length;g<k;g++){e=h[g];if(e.one===a){d||(d=f.__eventList__);d=c.removeArrayItem(e,d)}if((i=e.callback.apply(j,arguments[0]||[]))===false)break}d&&(f.__eventList__=d);return i},triggerHandler:function(){var e=this,f=e.__eventList__,d=b,g=e._this();if(f.length==0)return;d=f[0];var h=d.callback.apply(g,arguments[0]||[]);if(d.one===a)e.__eventList__=c.removeArrayItem(d,e.__eventList__);return h},clone:function(a){return c.Event(a||this.owner(),this.__eventList__)},size:function(){return this.__eventList__.length}}})(bingo);(function(a){var c=true,b=false;"use strict";var e="isVar1212";a.isVariable=function(a){return a&&a._isVar_==e};a.variableOf=function(b){return a.isVariable(b)?b():b};var g=a.variable=function(k,h,j){var i=a.variableOf(k),g=function(c){g.owner=this;if(arguments.length==0){var f=g._get_?g.$get():g.value;g.owner=null;return f}else{c=a.variableOf(c);var e=a.clone(g.$get());if(g._set_)g._set_.call(g,c);else g.value=c;c=g.$get();var d=!a.equals(c,e);if(d)g.$setChange();else g._triggerFn([c],b);g.owner=null;return g.$owner()||this}};g._isVar_=e;g._isChanged=c;a.extend(g,f);d&&a.extend(g,d);g.$owner(h).$view(j);g(i);return g},d=null;g.extend=function(b){if(!b)return;d=a.extend(d||{},b)};var f={size:function(){var a=this.$get();return a&&a.length||0},_triggerChange:function(){var a=this.$get();this._triggerFn([a],c)},_addFn:function(f,e,c,d){var b=this;(b._fnList||(b._fnList=[])).push({fn:f,change:e,disposer:c,_priority:d||50});b._fnList=a.linq(b._fnList).sortDesc("_priority").toArray();return b},_triggerFn:function(h,f){var d=this;if(d._fnList){var g=d,e=b;a.each(d._fnList,function(){var b=this;if(b.disposer&&b.disposer.isDisposed){e=c;a.clearObject(b);return}(f||!b.change)&&b.fn.apply(g,h)});if(e)d._fnList=a.linq(d._fnList).where(function(){return this.fn}).toArray()}},$off:function(e){var d=this;if(arguments.length>0)d._fnList=a.linq(d._fnList).where(function(){if(this.fn==e){a.clearObject(this);return b}else return c}).toArray();else{a.each(d._fnList,function(){a.clearObject(this)});d._fnList=[]}},$assign:function(a,c,d){return this._addFn(a,b,c||this.$view(),d)},$subs:function(a,b,d){return this._addFn(a,c,b||this.$view(),d)},$setChange:function(c){var a=this;a._isChanged=c!==b;a._isChanged&&a._triggerChange();return a},_obsCheck:function(){var a=this._isChanged;this._isChanged=b;return a},$get:function(c){var b=this;if(arguments.length==0)return b._get_?b._get_.call(b):b.value;else{a.isFunction(c)&&(b._get_=c);return b}},$set:function(c){var b=this;if(a.isFunction(c)){b._set_=c;b(b.$get())}return b},$view:function(a){if(arguments.length==0)return this._view_;else{this._view_=a;return this}},$owner:function(a){if(arguments.length==0)return this._owner_;else{this._owner_=a;return this}},$linq:function(){return a.linq(this.$get())},clone:function(d){var b=this,c=a.variable(b.value);c._get_=b._get_;c._set_=b._set_;c.$owner(d||b.$owner()).$view(b.$view());return c}}})(bingo);(function(a){var c=true,b=null;"use strict";var f=function(d,e){var b=d.prototype,c=b.__bg_property__||(b.__bg_property__={});a.eachProp(e,function(d,e){if(!(a.isPlainObject(d)||a.isArray(d)))b[e]=d;else c[e]=d})},d="__pro_names__",h=function(f,e){var b=f.prototype,c=b[d]?b[d].split(","):[];a.eachProp(e,function(d,a){d=e[a];b[a]=n(a,d);c.push(a)});b[d]=c.join(",")},n=function(c,d){var h=a.isObject(d),f=h&&d.$set,e=h&&d.$get,g=b;if(f||e)g=function(i){var h=j(this),g=a.hasOwnProp(h,c)?h[c]:(h[c]={value:a.clone(d.value)});g.owner=this;if(arguments.length==0){var k=e?e.call(g):g.value;g.owner=b;return k}else{if(f)f.call(g,i);else g.value=i;g.owner=b;return this}};else g=function(e){var b=j(this);if(arguments.length==0)return a.hasOwnProp(b,c)?b[c]:d;else{b[c]=e;return this}};return g},j=function(a){return a._bg_prop_||(a._bg_prop_={})},e="NewObject_define",g=function(b,a){this._define=b;a&&this._Base(a)};a.extend(g.prototype,{_Base:function(d){var b=this._define;b.prototype=new d(e);b.prototype.constructor=b;var c=b.prototype.__bg_property__;if(c)b.prototype.__bg_property__=a.clone(c);b.prototype.base=function(){var b=this,c=d.prototype;b.base=c.base;if(c.___Initialization__==a.noop)b.base.apply(b,arguments);else c.___Initialization__.apply(b,arguments)}},Define:function(a){f(this._define,a);return this},Initialization:function(a){this._define.prototype.___Initialization__=a;return this},Static:function(b){a.extend(this._define,b);return this},Prop:function(a){h(this._define,a);return this}});a.isClassObject=function(a){return a&&a.__bg_isObject__===c};a.isClass=function(a){return a&&a.__bg_isClass__===c};a.Class=function(){for(var n,k,o,j=b,p=0,r=arguments.length;p<r;p++){j=arguments[p];if(j)if(a.isClass(j))k=j;else if(a.isFunction(j))o=j;else if(a.isString(j))n=j}k||(k=a.Class.Base);var d=function(){if(arguments[0]!=e)return d.NewObject.apply(window,arguments)};d.__bg_isClass__=c;d.prototype.___Initialization__=a.noop;d.prototype.base=a.noop;d.extend=function(a){f(d,a)};d.extendProp=function(a){h(d,a)};d.NewObject=function(){var b=new d(e);if(b.__bg_property__){var c=a.clone(b.__bg_property__);a.extend(b,c)}if(b.___Initialization__==a.noop)b.base&&b.base.apply(b,arguments);else b.___Initialization__.apply(b,arguments);b.___Initialization__=a.noop;b.base=a.noop;d._onInit_&&d._onInit_.trigger([b]);d._onDispose_&&b.onDispose(function(){d._onDispose_.trigger([b])});return b};d.onInit=m;d.onDispose=l;var q=new g(d,k);o&&o.call(q);q=b;!a.isNullEmpty(n)&&i(n,d);return d};var m=function(c){var b=this;if(c){b._onInit_||(b._onInit_=a.Event());b._onInit_.on(c)}return b},l=function(c){var b=this;if(c){b._onDispose_||(b._onDispose_=a.Event());b._onDispose_.on(c)}return b},i=function(h,g){for(var c=h.split("."),b=window,d="",e=c.length-1,f=0;f<e;f++){d=c[f];if(!a.isNullEmpty(d)){if(a.isNull(b[d]))b[d]={};b=b[d]}}b[c[e]]&&k(b[c[e]],g);return b[c[e]]=g},k=function(c,b){a.eachProp(c,function(d,c){if(!a.hasOwnProp(b,c))b[c]=d})};a.Class.makeDefine=function(a,b){i(a,b)};a.Class.Base=a.Class(function(){var e="$dispose";this.Define({__bg_isObject__:c,isDisposed:false,disposeStatus:0,dispose:function(){var b=this;if(b.disposeStatus===0)try{b.disposeStatus=1;b.trigger(e)}finally{a.clearObject(b);b.disposeStatus=2;b.isDisposed=c;b.dispose=a.noop}},onDispose:function(a){return this.on(e,a)},disposeByOther:function(b){if(b&&b.dispose&&!b.isDisposed){var c=a.proxy(this,function(){this.dispose()});b.onDispose(c);this.onDispose(function(){b.isDisposed||b.onDispose().off(c)})}return this},$prop:function(e){var f=this,c=f[d];if(a.isNullEmpty(c))return arguments.length==0?b:f;c=c.split(",");var g=f;if(arguments.length==0){e={};a.each(c,function(a){e[a]=g[a]()});return e}else{a.eachProp(e,function(d,b){a.inArray(b,c)>=0&&g[b](e[b])});return f}}});this.Define({getEvent:function(d){var c=this;if(d){c.__events__||(c.__events__={});var e=c.__events__;return e[d]||(e[d]=a.Event(c))}return b},hasEvent:function(a){return this.__events__&&this.__events__[a]&&this.__events__[a].size()>0},on:function(b,a){if(b&&a)this.getEvent(b).on(a);return this},one:function(b,a){if(b&&a)this.getEvent(b).one(a);return this},off:function(a,b){this.hasEvent(a)&&this.getEvent(a).off(b);return this},end:function(a,b){a&&this.getEvent(a).end(b);return this},trigger:function(a){if(this.hasEvent(a)){var b=arguments.length>1?arguments[1]:[];return this.getEvent(a).trigger(b)}},triggerHandler:function(a){if(this.hasEvent(a)){var b=arguments.length>1?arguments[1]:[];return this.getEvent(a).triggerHandler(b)}}})});a.Class.Define=function(b){if(a.isObject(b)){var g=b.$base,d=b.$init,c=b.$dispose,e=b.$static,f=b.$prop;g&&delete b.$base;d&&delete b.$init;c&&delete b.$dispose;e&&delete b.$static;f&&delete b.$prop;return a.Class(g||a.Class.Base,function(){var a=this;f&&a.Prop(f);a.Define(b);(d||c)&&a.Initialization(function(){if(c)this.onDispose(c);d&&d.apply(this,arguments)});e&&a.Static(e)})}}})(bingo);(function(a){"use strict";var b=a.linqClass=a.Class(function(){var b=null,c=true;this.Define({concat:function(d,e){var b=this;b._doLastWhere();e=e===c;!a.isArray(d)&&(d=[d]);var f=e?d:b._datas,g=e?b._datas:d;b._datas=f.concat(g);return b},_backup:b,backup:function(){var a=this;a._doLastWhere();a._backup=a._datas;return a},restore:function(b){var a=this;if(b===c){var d=a.toArray();if(d.length==0)a._datas=a._backup}else a._datas=a._backup;return a},each:function(d,b,c){this._doLastWhere();a.each(this._datas,d,b,c);return this},where:function(b,d,c,e){if(!a.isFunction(b)){var g=b,f=d;b=function(){return this[g]==f}}this._doLastWhere();this._lastWhere={fn:b,index:d,count:a.isNumeric(c)?c:-1,rever:e};return this},_lastWhere:b,_doLastWhere:function(f,e,g){var d=this,c=d._lastWhere;if(c){d._lastWhere=b;var i=c.fn,f=a.isNumeric(f)?f:c.index,e=a.isNumeric(e)?e:c.count,g=!a.isUndefined(g)?g:c.rever,h=[];d.each(function(a,b){if(i.call(a,a,b)){h.push(a);if(e!=-1){e--;if(e==0)return false}}},f,g);d._datas=h}return d},select:function(b,f){var d=this;if(!a.isFunction(b)){var g=b;b=function(){return this[g]}}d._doLastWhere();var e=[];d.each(function(a,d){if(f===c)e=e.concat(b.call(a,a,d));else e.push(b.call(a,a,d))});d._datas=e;return d},sort:function(b){var a=this;a._doLastWhere();a._datas=a._datas.sort(function(d,e){var a=b(d,e);return a>0||a===c?1:a<0||a===false?-1:0});return a},sortAsc:function(b){var c=a.isFunction(b);return this.sort(function(a,d){return c?b.call(a,a)-b.call(d,d):b?a[b]-d[b]:a-d})},sortDesc:function(b){var c=a.isFunction(b);return this.sort(function(a,d){return c?b.call(d,d)-b.call(a,a):b?d[b]-a[b]:d-a})},unique:function(b){var c=this;c._doLastWhere();var e=[],d=[];if(!a.isFunction(b))if(arguments.length==0)b=function(a){return a};else{var f=b;b=function(a){return a[f]}}c.each(function(c,g){var f=b.call(c,c,g);if(a.inArray(f,d)<0){e.push(c);d.push(f)}});c._datas=e;return c},count:function(){this._doLastWhere();return this._datas.length},first:function(a){this._doLastWhere(0,1);return this._datas[0]||a},last:function(a){this._doLastWhere(0,1,c);return this._datas[0]||a},contain:function(){this._doLastWhere(0,1);return this.count()>0},index:function(){var b=this._datas,c=this.first();return a.inArray(c,b)},sum:function(b){this._doLastWhere();if(!a.isFunction(b)){var c=b;b=function(a){return c?a[c]:a}}var d=0;this.each(function(a,c){d+=b?b.call(a,a,c):a});return d},avg:function(b){this._doLastWhere();if(!a.isFunction(b)){var d=b;b=function(a){return d?a[d]:a}}var c=0;this.each(function(a,d){c+=b?b.call(a,a,d):a});return c==0?0:c/this._datas.length},take:function(c,b){this._doLastWhere();if(isNaN(b)||b<0)b=this.count();return a.sliceArray(this._datas,c,b)},toArray:function(){this._doLastWhere();return this._datas},toPage:function(f,a){var b=this.toArray(),d=1,c=1,a=a,e=b.length,b=b;if(b.length>0){c=parseInt(e/a)+(e%a!=0?1:0);d=f>c?c:f<1?1:f;b=this.take((d-1)*a,a)}return{currentPage:d,totalPage:c,pageSize:a,totals:e,list:b}},_getGroupByValue:function(e,c,d){for(var a=0,f=c.length;a<f;a++)if(c[a][d]==e)return c[a];return b},group:function(g,f,h){var d=this;f||(f="group");h||(h="items");if(!a.isFunction(g)){var m=g;g=function(a){return a[m]}}d._doLastWhere();for(var j=[],l=d._datas,n=l.length,e=b,c=b,k=b,i=0;i<n;i++){e=l[i];k=g.call(e,e,i);c=d._getGroupByValue(k,j,f);if(c==b){c={};c[f]=k;c[h]=[e];j.push(c)}else c[h].push(e)}d._datas=j;return d}});this.Initialization(function(a){this._datas=a||[]})});a.linq=function(a){return b.NewObject(a)}})(bingo);(function(a){var b=false;"use strict";var c=function(b,c){return a.isNull(b)||a.isNull(c)?b===c:a.isArray(b)?f(b,c):b instanceof RegExp?e(b,c):a.isFunction(b)?a.isFunction(c)&&b.valueOf()===c.valueOf():a.isObject(b)?d(b,c):typeof b===typeof c&&b.valueOf()===c.valueOf()},e=function(b,a){return a instanceof RegExp&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline},f=function(d,e){if(d===e)return true;if(!a.isArray(e)||d.length!=e.length)return b;for(var f=0,g=d.length;f<g;f++)if(!c(d[f],e[f]))return b;return true},d=function(d,e){if(d===e)return true;if(!a.isObject(e))return b;var f=0;for(var g in d){f++;if(a.hasOwnProp(d,g)&&!c(d[g],e[g]))return b}for(var h in e)f--;return f===0};a.extend({equals:function(a,b){return c(a,b)}})})(bingo);(function(a){"use strict";var b=window.document,c=b.head||b.getElementsByTagName("head")[0]||b.documentElement,d=c.getElementsByTagName("base")[0],e=/loaded|complete|undefined/i,h=/SCRIPT/i,g=function(h,k,j,g){var e=b.createElement("script");e.importurl=h;e.imporid=j||a.makeAutoId();e.async="async";e.src=h;if(g){var i=a.isFunction(g)?g(h):g;i&&(e.charset=i)}f(e,k||a.noop);d?c.insertBefore(e,d):c.appendChild(e);return j},f=function(b,c){var d=function(){if(!b)return;if(e.test(b.readyState)){b.onload=b.onerror=b.onreadystatechange=null;!a.isDebug&&b.parentNode&&b.parentNode.removeChild(b);setTimeout(function(){if(!b)return;try{c&&c(b.importurl,b.imporid,b)}finally{b=undefined;c=null}},1)}};b.onload=b.onerror=b.onreadystatechange=function(){d()}};a.extend({fetch:function(c,a,d,b){return g(c,a,d,b)}})})(bingo);(function(a){var c=null,b="?";"use strict";var j,v=[],f=[],e=[],d=[[],[]],m=function(b,c){return a.inArray(function(c){return a.isStringEquals(c,b)},c)},F=function(a){return m(a,v)>=0||m(a,f)>=0||m(a,e)>=0},C=function(f,c,b){!a.isNumeric(b)&&(b=a.usingPriority.Normal);z(f);d[b]||(d[b]=[]);d[b].push(c);if(e.length>0)E();else setTimeout(function(){i()&&l()},1)},z=function(d){var c=a.stringEmpty;a.each(d,function(d){if(a.isNull(d))return;c=a.route(d);c=A(c);if(!a.supportWorkspace&&!a.isNullEmpty(a.prdtVersion))c=[c,c.indexOf(b)>=0?"&":b,"_version_=",a.prdtVersion].join("");!F(c)&&e.push(c)})},E=function(){if(e.length>0){var b=e;e=[];a.each(b,function(b){f.push(b);a.fetch(b,y)})}},i=function(){return e.length<=0&&f.length<=0},g=j,y=function(b){v.push(b);f=a.removeArrayItem(b,f);g!=j&&clearTimeout(g);g=setTimeout(function(){g=j;i()&&l()},5)},l=function(){var b=true;a.each(d,function(f,c){var e=d[c];d[c]=[];a.each(e,function(b){a.isFunction(b)&&b()});if(d[c].length>0){b=false;return false}});if(!b)i()&&l()},n=[],x=function(b,a){return{path:a,mapPath:b,pathReg:p(a)}},D=function(b,c){b=a.route(b);c=a.route(c);var d=w(c);if(a.isNull(d))n.push(x(b,c));else d.mapPath=b},w=function(d,e){var b=a.inArray(function(b){if(e===true&&b.pathReg){b.pathReg.lastIndex=0;return b.pathReg.test(d)}else return a.isStringEquals(b.path,d)},n);return b>=0?n[b]:c},A=function(b){var a=w(b,true);return a&&a.mapPath||b},h=/(\W)/g,r=/(\\([?*]))/g,q=/\\\*\\\*/g,u=/\?[^?=]+\=.*$/,B=/[?*]+/,s=function(b){return!a.isNullEmpty(b)&&B.test(b.replace(u,""))},p=function(b){if(!s(b))return c;var a=b.match(u);if(a){a=a[0];b=b.replace(a,"");a=a.replace(h,"\\$1")}else a="";h.lastIndex=0;r.lastIndex=0;q.lastIndex=0;var d=b.replace(h,"\\$1").replace(q,".*").replace(r,"[^./]$2");d=["^",d,a,"$"].join("");return new RegExp(d)};a.extend({using:function(){if(arguments.length<=0)return;for(var e=[],d=c,g=0,b=c,f=0,h=arguments.length;f<h;f++){b=arguments[f];if(b)if(a.isFunction(b))d=b;else if(a.isNumeric(b))g=b;else e=e.concat(b)}C(e,function(){d&&d()},g)},makeRegexMapPath:p,isRegexMapPath:s,usingMap:function(c,b){if(a.isNullEmpty(c)||!b||b.length<=0)return;a.each(b,function(b){if(a.isNullEmpty(b))return;D(c,b)})},usingPriority:{First:0,NormalBefore:45,Normal:50,NormalAfter:55,Last:100},path:function(c){if(this.isObject(c))this.extend(o,c);else if(arguments.length>1)o[arguments[0]]=arguments[1];else{var d=c.split(b);c=d[0];c=k(c);if(d.length>1)c+=b+a.sliceArray(d,1).join(b);return c}}});var o={},t=/%([^%]*)%/i,k=function(d){if(a.isNullEmpty(d)||d.indexOf("%")<0)return d;var h="";if(d.indexOf(b)){var i=d.split(b);d=i[0];h=i[1]}t.lastIndex=0;var e=d.match(t),f=a.stringEmpty,g=o;if(e)if(g[e[1]])f=k(d.replace(e[0],g[e[1]]));else f=k(d.replace(e[0],a.stringEmpty));e=c;g=c;return!h?f:[f,h].join(b)}})(bingo);(function(b){var h="list",g="user",e="system",c=null,d="$",a="";"use strict";b.route=function(a,c){if(arguments.length==1)return b.routeContext(a).toUrl;else a&&c&&i.add(a,c)};b.routeContext=function(a){return i.getRouteByUrl(a)};b.routeLink=function(c,d){var b=i.getRuote(c);return b?j(b.context.url,d,1):a};b.routeLinkQuery=function(c,f){c||(c=a);var e=a;if(c.indexOf(d)>=0||c.indexOf("?")>=0){var g=b.routeContext(c);f=b.extend({},f,g.params.queryParams);var h=c.indexOf(d)>=0?d:"?";c=c.split(h)[0]}b.eachProp(f,function(b,c){b=encodeURIComponent(b||a);e=[e,d,c,":",b].join(a)});return[c,e].join(a)};var f=/\{([^}]+)\}/gi,m=function(n,e){if(!n||!e.url)return c;var h=e.url,k=b.isRegexMapPath(h);if(k){var l=h.indexOf(d)>=0?h.split(d)[0]:h;f.lastIndex=0;l=l.replace(f,"*");e._reg||(e._reg=b.makeRegexMapPath(l));if(!e._reg.test(n))return c}var g=n.split(d),p=g[0].split("/"),o=e._matchUrlList||(e._matchUrlList=h.split("/"));if(p.length!=o.length)return k?{}:c;var j={},i=true,m;b.each(o,function(c,d){m=p[d];if(!(k&&b.isRegexMapPath(c))){f.lastIndex=0;if(f.test(c))j[c.replace(f,"$1")]=decodeURIComponent(m||a);else{i=c==m;if(!i)return false}}});var q=j.queryParams={};if(i&&g.length>1){g=b.sliceArray(g,1);b.each(g,function(d){var c=d.split(":"),b=c[0],e=decodeURIComponent(c[1]||a);b&&(j[b]=q[b]=e)})}return i?j:c},k=function(){var e={app:c,module:c,controller:c,action:c},a=this.params;if(a){var i=a.app,h=a.module,g=b.isNullEmpty(i)?b.defaultApp():b.app(i),d=b.isNullEmpty(h)?g.defaultModule():g.module(h),f=d?d.controller(a.controller):c,j=f?f.action(a.action):d?d.action(a.action):c;e.app=g;e.module=d;e.controller=f;e.action=j}return e},l=function(c,d,b,a){return{name:c,params:a,url:d,toUrl:b,actionContext:k}},j=function(c,j,i){f.lastIndex=0;if(!c||!j)return b.path(c);var e=a,h=a,g=a;b.eachProp(j,function(j,f){h=["{",f,"}"].join(a);g=encodeURIComponent(j||a);if(c.indexOf(h)>=0)c=b.replaceAll(c,h,g);else if(f!="module"&&f!="controller"&&f!="action"&&f!="service"&&f!="app"&&f!="queryParams")if(i==1)e=[e,d,f,":",g].join(a);else e=[e,"&",f,"=",g].join(a)});if(e)if(i==1)c=[c,e].join(a);else if(c.indexOf("?")>=0)c=[c,e].join(a);else c=[c,e.substr(1)].join("?");return b.path(c)},i={datas:[],defaultRoute:{url:"**",toUrl:function(a){return a}},add:function(e,a){var c=this,d=c.getRuote(e);if(b.isUndefined(a.priority))a.priority=100;if(d)d.context=a;else c.datas.push({name:e,context:a});c.datas=b.linq(c.datas).sort(function(a,b){return b.context.priority-a.context.priority}).toArray()},getRuote:function(d){var a=c;b.each(this.datas,function(){if(this.name==d){a=this;return false}});return a},getRouteByUrl:function(f){if(!f)return a;var g=f.split("?");if(g.length>1)f=g[0];var e=c,h=a,d=c;b.each(this.datas,function(){e=this.context;d=m(f,e);if(d){h=this.name;return false}});if(!d){e=i.defaultRoute;h="defaultRoute"}if(d||e.defaultValue)d=b.extend({},e.defaultValue,d);if(b.isFunction(e.toUrl))e.toUrl;var k=b.isFunction(e.toUrl)?e.toUrl.call(e,f,d):e.toUrl;if(g.length>1){d||(d={});g[1].replace(/([^=&]+)\=([^=&]*)/g,function(c,b,a){d[b]=a})}var k=j(k,d);return l(h,f,k,d)}};b.route("view",{priority:100,url:"view/{module}/{controller}/{action}",toUrl:"modules/{module}/views/{controller}/{action}.html",defaultValue:{module:e,controller:g,action:h}});b.route("action",{url:"action/{module}/{controller}/{action}",toUrl:"modules/{module}/controllers/{controller}.js",defaultValue:{module:e,controller:g,action:h}});b.route("viewS",{url:"view/{module}/{action}",toUrl:"modules/{module}/{action}.html",defaultValue:{module:e,action:h}});b.route("actionS",{url:"action/{module}/{action}",toUrl:"modules/{module}/scripts/{action}.js",defaultValue:{module:e,action:h}});b.route("service",{url:"service/{module}/{service}",toUrl:"modules/{module}/services/{service}.js",defaultValue:{module:e,service:g}});b.route("serviceS",{url:"service/{service}",toUrl:"modules/services/{service}.js",defaultValue:{module:e,service:g}})})(bingo);(function(a){"use strict";a.cacheToObject=function(a){return a&&a.__bg_cache__?a.__bg_cache__:(a.__bg_cache__=c.NewObject())};var f=function(c,d){var b=a.linq(c._datas).where(function(){return this.key==d}).first();b&&(b.t=(new Date).valueOf());return b},b=function(a,f,e,c){c>0&&d(a,c);var b={t:(new Date).valueOf(),key:f,value:e};a._datas.push(b);return b},d=function(b,e){var d=b._datas.length,c=5;if(d>=e+c)b._datas=a.linq(b._datas).sortAsc("t").take(c)},e=function(b,c){b._datas=a.linq(b._datas).where(function(){return this.key!==c}).toArray()},g=function(b,c){return a.linq(b._datas).where(function(){return this.key==c}).contain()},c=a.Class(function(){this.Prop({max:0,context:null});this.Define({key:function(){if(arguments.length==0)return this._key;else{this._key=a.sliceArray(arguments,0).join("_");return this}},_getItem:function(){var c=this,d=c.key();if(d){var h=c._datas,g=f(c,d);if(g)return g;else{var e=c.context();if(a.isFunction(e))return b(c,d,e(),c.max())}}},"get":function(){var a=this._getItem();return a&&a.value},"set":function(c){var a=this,d=a._getItem();if(d)d.value=c;else{var e=a.key();e&&b(a,e,c,a.max())}return a},has:function(){var a=this.key();return a?g(this,a):false},clear:function(){var a=this,b=a.key();a.has()&&e(a,b);return a},clearAll:function(){this._datas=[];return this}});this.Initialization(function(){this._datas=[]})})})(bingo);(function(c,b){var a=true;"use strict";var d="bingoLinkToDom";c.extend({linkToDom:function(f,a){if(f&&c.isFunction(a)){var e=b(f);if(e.size()>0)e.one(d,a);else a.call(e)}return a},unLinkToDom:function(a,c){if(a){var e=b(a);if(c)e.off(d,c);else e.off(d)}},isUnload:false});c.linkToDom.LinkToDomClass=c.Class(function(){this.Define({isDisposeFormDom:false,linkToDom:function(e){var d=this;d.__linkToDomInit();if(e){d.unlinkToDom();var f=d.__bg_lnk_dom=b(e);d.__bg_lnk_fn=c.linkToDom(f,c.proxy(d,function(){this.isDisposeFormDom=a;this.dispose();this.isDisposeFormDom=a}))}return d},unlinkToDom:function(){var b=this;if(b.__bg_lnk_dom&&b.isDisposeFormDom!==a){c.unLinkToDom(b.__bg_lnk_dom,b.__bg_lnk_fn);b.__bg_lnk_dom=null}return b},__linkToDomInit:function(){if(this.__isLinkToDomInit)return;this.__isLinkToDomInit=a;this.onDispose(function(){this.unlinkToDom()})}})});var e=b.cleanData;b.cleanData=function(f){for(var c=0,a;(a=f[c])!=null;c++)try{b(a).triggerHandler(d)}catch(g){}e.apply(b,arguments)};b(window).unload(function(){c.isUnload=a;b(document.body).remove();b(document.documentElement).remove()})})(bingo,window.jQuery);(function(b){var a=null;"use strict";var l=function(a){var c={priority:50,tmpl:"",tmplUrl:"",replace:false,include:false,view:false,compileChild:true};a=a();if(b.isFunction(a)||b.isArray(a))c.link=a;else c=b.extend(c,a);return c},o=function(a,c){if(b.isNullEmpty(a))return;a=a.toLowerCase();return arguments.length==1?f.call(this,"_commands",a):(this._commands[a]=l(c))},s=function(c,d){return b.isNullEmpty(c)?a:arguments.length==1?f.call(this,"_filters",c):(this._filters[c]=d)},p=function(c,e){var a=this,d=arguments.length;return d==0?a._factorys:d==1?b.factory.factoryClass.NewObject().module(a).setFactory(c):e===true?f.call(a,"_factorys",c):(a._factorys[c]=e)},k=function(a,c){if(b.isNullEmpty(a))return;if(arguments.length==1)return f.call(this,"_factoryExtends",a);else{c.$owner={module:this};return this._factoryExtends[a]=c}},q=function(a,c){if(b.isNullEmpty(a))return;if(arguments.length==1)return f.call(this,"_services",a);else{c.$owner={module:this};return this._services[a]=c}},m=function(h,k){var f=this;if(b.isNullEmpty(h))return;var d=f._controllers[h];if(!d)d=f._controllers[h]={module:f,name:h,_actions:{},action:r};if(b.isFunction(k)){var j=e;!j&&(e=f);var i=c;!i&&(c=e.app);g=d;k.call(d);g=a;!j&&(e=a);!i&&(c=a)}return d},r=function(b,c){var a=this;if(arguments.length==1)return a._actions[b];else{c.$owner={conroller:a,module:a.module};return a._actions[b]=c}},n=function(b,c){if(arguments.length==1)return this._actions[b];else{c.$owner={conroller:a,module:this};return this._actions[b]=c}},d=function(){return e||b.defaultModule(c)},f=function(f,e){var a=this,c=a[f][e];if(!c){var d=b.defaultModule(a.app);if(a!=d)c=d[f][e];if(!c&&a.app!=h){var d=b.defaultModule();if(a!=d)c=d[f][e]}}return c},t=function(g,i){var f=this;if(b.isNullEmpty(g))return a;var d=f._module[g];if(!d)d=f._module[g]={name:g,_services:{},_controllers:{},_commands:{},_filters:{},_factorys:{},_actions:{},action:n,service:q,controller:m,command:o,filter:s,factory:p,_factoryExtends:{},factoryExtend:k,app:f};if(b.isFunction(i)){var h=c;!h&&(c=f);e=d;i.call(d);e=a;!h&&(c=a)}return d},j=function(){return this.module("_$defaultModule$_")},i={},u={},c=a,e=a,g=a;b.extend({defaultModule:function(a){return a?a.defaultModule():h.defaultModule()},getModuleByView:function(a){return a?a.$getModule():b.defaultModule()},module:function(){var a=c||h;return a.module.apply(a,arguments)},defaultApp:function(){return h},getAppByView:function(a){return this.getModuleByView(a).app},app:function(e,f){if(this.isNullEmpty(e))return a;var d=i[e];if(!d)d=i[e]={name:e,_module:{},module:t,defaultModule:j,action:function(){var a=this.defaultModule();return a.action.apply(a,arguments)},service:function(){var a=this.defaultModule();return a.service.apply(a,arguments)},controller:function(){var a=this.defaultModule();return a.controller.apply(a,arguments)},command:function(){var a=this.defaultModule();return a.command.apply(a,arguments)},filter:function(){var a=this.defaultModule();return a.filter.apply(a,arguments)},factory:function(){var a=this.defaultModule();return a.factory.apply(a,arguments)},factoryExtend:function(){var a=this.defaultModule();return a.factoryExtend.apply(a,arguments)}};if(b.isFunction(f)){c=d;f.call(d);c=a}return d},service:function(){var a=d();return a.service.apply(a,arguments)},factoryExtend:function(){var a=d();return a.factoryExtend.apply(a,arguments)},controller:function(){var a=d();return a.controller.apply(a,arguments)},action:function(a){if(b.isFunction(a)||b.isArray(a))return a;else if(g)return g.action.apply(g,arguments);else{var c=d();return c.action.apply(c,arguments)}},command:function(){var a=d();return a.command.apply(a,arguments)},filter:function(){var a=d();return a.filter.apply(a,arguments)},factory:function(){var a=d();return a.factory.apply(a,arguments)}});var h=b.app("_$defaultApp$_")})(bingo);(function(a){"use strict";var e=a.Class(function(){var d=true,c=null;this.Prop({name:"",view:c,viewnode:c,viewnodeAttr:c,widthData:c,node:c,module:c,fn:c,params:c});this.Define({reset:function(){this.view(c).viewnode(c).viewnodeAttr(c).widthData(c).node(c).params(c);return this},_newInjectObj:function(){var c=this,d=c.viewnodeAttr(),b=c.viewnode()||d&&d.viewnode(),e=c.view()||b&&b.view()||a.rootView(),g=c.node()||b&&b.node()||e.$node(),f=c.widthData()||b&&b.getWithData();return{node:g,$view:e,$viewnode:b,$attr:d,$withData:f,$command:d&&d.command,$injectParam:c.params()}},inject:function(f,e){var a=this,h=a.fn(),c=h.$injects,b=c&&c.length>0?a._newInjectObj():{},g=a._inject(f||a.viewnodeAttr()||a.viewnode()||a.view(),a.name(),b,{},d);return e===d?b:g},_inject:function(e,d,b,h,m){var f=this.fn();if(!f)throw new Error("not find factory: "+d);var g=f.$injects,n=c,j=[],k=this;if(g&&g.length>0){var i=c;a.each(g,function(a){if(a in b)i=b[a];else i=b[a]=k.setFactory(a)._inject(e,a,b,h,false);j.push(i);k._doExtend(e,a,b,h)})}var l=f.apply(f.$owner||e,j)||{};if(a.isString(d)&&d){b[d]=l;m&&this._doExtend(e,d,b,h)}return l},_doExtend:function(f,b,e,a){if(a[b]!==d){a[b]=d;var c=this._getExtendFn(b);c&&this.setFactory(c)._inject(f,"",e,a,false)}},_getParams:function(g){var e=this,d,c,f=g.indexOf("$")>0,b="",h=g;if(f){b=g.split("$");h=b[1];b=b[0]}if(e.view()){d=a.getAppByView(e.view());c=f?d.module(b):a.getModuleByView(e.view())}else{c=e.module();d=c.app;if(f)c=d.module(b)}return{app:d,module:c,name:h}},_getExtendFn:function(e){var d=this._getParams(e),a=d.module.factoryExtend(d.name);return a?b(a):c},_getFactoryFn:function(h){var g=this._getParams(h),a=g.module,e=g.name,f=a.factory(e,d)||a.service(e);return f?b(f):c},setFactory:function(d){var e=c,f=c;if(a.isFunction(d)||a.isArray(d)){e=b(d);d=""}else e=this._getFactoryFn(d);return this.name(d).fn(e)}})});a.factory.factoryClass=e;var c=function(){};c.$injects=[];var d=/^\s*function[^(]*?\(([^)]+?)\)/i,b=function(b){if(b&&(b.$injects||b.$fn))return b.$fn||b;var e=c;if(a.isArray(b)){var f=a.clone(b,false);e=b.$fn=f.pop();e.$injects=f;e.$owner=b.$owner}else if(a.isFunction(b)){e=b;var g=e.toString(),f=[];g.replace(d,function(c,b){b&&a.each(b.split(","),function(b){b=a.trim(b);b&&f.push(b)})});e.$injects=f}return e}})(bingo);(function(a){"use strict";var b="isModel1212";a.isModel=function(a){return a&&a._isModel_==b};a.modelOf=function(b){b=a.variableOf(b);return a.isModel(b)?b.toObject():b};var e=function(c){var b=c||{},d;a.eachProp(this,function(d,c){if(a.isVariable(b[c]))b[c](d);else if(c!="_isModel_"&&c!="toObject"&&c!="fromObject"&&c!="toDefault"&&c!="_p_")b[c]=a.variableOf(d)});return b},c=function(b,c){b&&a.eachProp(b,a.proxy(this,function(e,d){var b=this;if(d in b)if(a.isVariable(b[d]))b[d](e);else b[d]=a.variableOf(e);else if(c)b[d]=a.variable(e)}));return this},d=function(){this.fromObject(this._p_)};a.model=function(g,h){g=a.modelOf(g);var f={},i;a.eachProp(g,function(b,c){f[c]=a.variable(b,f,h)});f._isModel_=b;f._p_=g;f.toObject=e;f.fromObject=c;f.toDefault=d;return f}})(bingo);(function(a){"use strict";var b=a.Class(function(){var c=true,b=false,e=function(l,i,j,m,k,h){h||(h=50);var o=a.isFunction(i),n=function(){var b;if(o)b=i.call(e);else{var c=l._view;b=a.datavalue(c,i);if(a.isUndefined(b))b=a.datavalue(window,i)}return a.isModel(b)?a.modelOf(b):b},g=n(),e={_callback:j,dispose:d,_priority:h};if(a.isVariable(g)){e.check=f;e.isChange=b;var p=l._view;e.varo=g;g.$subs(function(a){j.call(e,a);l.publishAsync()},k||p,h)}else{if(m)g=a.clone(g);e.check=function(){if(k&&k.isDisposed){e.dispose&&e.dispose();return}var d=n(),f=m?!a.equals(d,g):d!=g;if(f){g=m?a.clone(d):d;j.call(this,d);return c}return b}}return e},f=function(){return b},d=function(){a.clearObject(this)};this.Define({unSubscribe:function(e){var d=this;if(arguments.length>0)d._subscribes=a.linq(d._subscribes).where(function(){if(this._callback==e){this.dispose();return b}else return c}).toArray();else{a.each(d._subscribes,function(){this.dispose()});d._subscribes=[]}return d},subscribe:function(h,d,i,f,g){var b=this,c=e(b,h,d,i,f,g);b._subscribes.push(c);b._subscribes=a.linq(b._subscribes).sortDesc("_priority").toArray();return c},publish:function(){var a=this;a._publishTime=0;a._publish&&a._publish();return a},publishAsync:function(){var a=this;if(!a._pbAsync_){var b=a;a._pbAsync_=setTimeout(function(){b._pbAsync_=null;b.publish()},5)}return a},_publishTime:0,_publish:function(){var d=this,e=b,g=b;a.each(d._subscribes,function(){if(!this.check){g=c;return}if(this.check())e=c});if(g)d._subscribes=a.linq(d._subscribes).where(function(){return this.check}).toArray();if(e){if(d._publishTime<10){d._publishTime++;var f=d;setTimeout(function(){f.isDisposed||f._publish()},5)}}else d._publishTime=0}});this.Initialization(function(c){var b=this;b._view=c,b._subscribes=[];b.disposeByOther(c);b.onDispose(function(){a.each(this._subscribes,function(){this.dispose()})})})});a.observer=function(a){return a&&(a.__observer__||(a.__observer__=b.NewObject(a)))};a.observer.observerClass=b})(bingo);(function(a){var b=null;"use strict";a.ajax=function(b,a){return e.NewObject(b).view(a)};a.ajaxSync=function(b){return c.NewObject().view(b).dependent(a.noop)};a.ajaxSyncAll=function(b,a){return f(b,a)};var d=a.ajax.ajaxBaseClass=a.Class(function(){var a=function(a,b){return function(e,d,c){(e==a||a=="alway")&&b.apply(c,d)}};this.Define({view:function(a){if(arguments.length==0)return this._view;this._view=a;return this},_callbacks:function(){this._calls||(this._calls=$.Callbacks("stopOnFalse"));return this._calls},_reject:function(a){this._calls&&this._callbacks().fire("fail",a||[],this)},_resolve:function(a){this._calls&&this._callbacks().fire("done",a||[],this)},success:function(b){b&&this._callbacks().add(a("done",b));return this},error:function(b){b&&this._callbacks().add(a("fail",b));return this},alway:function(b){b&&this._callbacks().add(a("alway",b));return this},fromOther:function(b){var a=this;if(b instanceof d){a._view=b._view;a._calls=b._calls;var c=b.$prop();a.$prop(c)}return a}})}),e=a.ajax.ajaxClass=a.Class(d,function(){var f=false,d=true,h=this;h.Static({holdServer:function(d,b,a,c){return[b,a,c]}});var g=function(a){if(a.isDisposed)return;setTimeout(function(){a.dispose()},1)},i=function(c,r){var i=c.view();if(c.isDisposed||i&&i.isDisposed){g(c);return}var n=c.holdParams(),m=a.clone(n?n.call(c):c.param()||{}),q=c.holdServer()||e.holdServer,l=b,j=c.url(),h="",o=c.cacheTo();if(o){h=c.cacheQurey()?j:j.split("?")[0];if(!a.equals(m,{}))h=[h,window.JSON?JSON.stringify(m):$.getJSON(m)].join("_");h=h.toLowerCase();l=a.cacheToObject(o).max(c.cacheMax()).key(h);if(l.has()){var k=l.get();if(a.isObject(k))k=a.clone(k);c.isCacheData=d;if(c.async())setTimeout(function(){if(!c.isDisposed){i&&i.isDisposed||c._resolve([k]);g(c)}});else c._resolve([k]);g(c);return}}var p=function(b,e,j){if(!c.isDisposed){if(!(i&&i.isDisposed))try{var k=q(c,b,e,j);b=k[0],e=k[1],j=k[2];if(e===d){l&&l.key(h).set(b);c._resolve([b])}else c._reject([b,f,j])}catch(m){a.trace(m)}g(c)}};if(!a.supportWorkspace&&!a.isNullEmpty(a.prdtVersion))j=[j,j.indexOf("?")>=0?"&":"?","_version_=",a.prdtVersion].join("");$.ajax({type:r,url:j,data:m,async:c.async(),cache:c._ajaxCache(),dataType:c.dataType(),success:function(a,c,b){p(a,d,b)},error:function(b,c,a){p(a,f,b)}})};h.Prop({url:{$set:function(b){this.value=a.route(b)}},async:d,dataType:"json",_ajaxCache:f,param:{},cacheTo:b,cacheMax:-1,cacheQurey:d,holdServer:b,holdParams:b});h.Define({isCacheData:f,addToAjaxSync:function(a){a||(a=c.lastSync(this.view()));a&&a.dependent(this);return this},post:function(){var b=this;b.async()&&b.addToAjaxSync();i(b,"post");b.post=a.noop;return b},"get":function(){var b=this;b.async()&&b.addToAjaxSync();i(b,"get");b.get=a.noop;return b}});h.Initialization(function(a){this.url(a)})}),c=a.ajax.ajaxaSyncClass=a.Class(d,function(){this.Static({_syncList:[],getSyncList:function(a){return a&&a.__syncList_&&(a.__syncList_=[])||this._syncList},lastSync:function(d){var a=this.getSyncList(d),c=a.length;return c>0?a[c-1]:b}});this.Define({resolve:function(){this._count=0;this._resolve();this.dispose()},reject:function(){this._count=0;this._reject();this.dispose()},dependent:function(c){var b=this;b.addCount();var d=b;if(a.isFunction(c))try{c.call(b);setTimeout(function(){!d.isDisposed&&d.decCount()},1)}catch(e){a.trace(e);b.reject()}else{b.view()||c.view()||c.view(b.view());c.view()||b.view()||b.view(c.view());c.error(function(){setTimeout(function(){!d.isDisposed&&d.reject()},1)}).success(function(){setTimeout(function(){!d.isDisposed&&d.decCount()},1)})}return b},_count:0,addCount:function(a){this._count+=arguments.length==0?1:a;return this},decCount:function(){this._count--;this._checkResolve();return this},_checkResolve:function(){this._count<=0&&this.resolve()}})}),f=function(g,d){if(!g)return b;var f=c.getSyncList(d),e=c.lastSync(d),a=c.NewObject();e&&e.dependent(a);f.push(a);a.view(d).dependent(g);f.pop();return a}})(bingo);(function(b,f){var h="bingo_cmpwith_",d=false,e=true,a=null,c="";"use strict";b.extend({compile:function(a){return m.NewObject().view(a)},tmpl:function(b,a){return n.NewObject(b).view(a)},_startMvc:function(){b.using(function(){var a=b.rootView(),c=a.$node();a.onReadyAll(function(){b.__readyE.end()});b.compile(a).fromNode(c).compile()},b.usingPriority.NormalAfter)},__readyE:b.Event(),ready:function(a){this.__readyE.on(a)}});var o=b.compile.injectTmplWithDataIndex=function(e,d,b){var a="<!--bingo_cmpwith_";return[a,d,"-->",e,a,b,"-->"].join(c)};b.compile.getNodeContentTmpl=function(e){var d=f(e),b=c,a=d.children();if(a.size()===1&&a.is("script"))b=a.html();else b=d.html();return b};var j=a,i=b.compile.removeNode=function(a){j.append(a);j.html(c)},g={compiledAttrName:["_bg_cpl",b.makeAutoId()].join("_"),isCompileNode:function(a){return a[this.compiledAttrName]=="1"},setCompileNode:function(a){a[this.compiledAttrName]="1"},_makeCommand:function(i,f,g,h){var a=i;!b.isNullEmpty(a.tmplUrl)&&b.tmpl(a.tmplUrl,f).cacheQurey(e).async(d).success(function(b){a.tmpl=b}).get();a.compilePre&&b.factory(a.compilePre).view(f).node(g).inject();if(a.as){var c=b.factory(a.as).view(f).node(g).inject();if(c&&c.length>0)h.list=(h.list||[]).concat(c)}return a},newTraverseParams:function(){return{node:a,parentViewnode:a,view:a,data:a,withData:a,action:a,withDataList:a}},traverseNodes:function(d){var e=this,c=d.node;if(c.nodeType===1){if(!e.isCompileNode(c)){e.setCompileNode(c);if(!e.analyzeNode(c,d))return}var f=c.firstChild;if(f){var g=[];do g.push(f);while(f=f.nextSibling);e.traverseChildrenNodes(g,d)}}else if(c.nodeType===3)if(!d.parentViewnode._isCompileText(c)){var h=b.view;d.parentViewnode._setCompileText(c);var i=c.nodeValue;h.textTagClass.hasTag(i)&&h.textTagClass.NewObject(d.view,d.parentViewnode,c,c.nodeName,i,d.withData)}c=d=a},traverseChildrenNodes:function(m,c){for(var f=[],g=[],k=c.withDataList,l=c.withData,a,n=b.clone(c,d,e),h=-1,j=0,o=m.length;j<o;j++){a=m[j];if(this.isComment(a))g.push(a);else{h=k?this.getTmplWithdataIndex(a):-1;if(h==-1){if(a.nodeType===1||a.nodeType===3){c.node=a,c.withData=l;this.traverseNodes(c);c=b.clone(n,d,e)}}else{l=c.withData=k[h];f.push(a)}}}(g.length>0||f.length>0)&&i(g.concat(f))},commentTest:/^\s*#/,isComment:function(a){return a.nodeType==8&&this.commentTest.test(a.nodeValue)},getTmplWithdataIndex:function(e){if(e.nodeType==8){var a=e.nodeValue;if(!b.isNullEmpty(a)&&a.indexOf(h)>=0){var d=parseInt(a.replace(h,c),10);return d<0?-2:d}}return-1},isTmplWithdataNode:function(c){if(c.nodeType==8){var a=c.nodeValue;return!b.isNullEmpty(a)&&a.indexOf(h)>=0}return d},checkTmplWithdataNode:function(c){var b=[],a=[];c.each(function(){if(g.isTmplWithdataNode(this))a.push(this);else b.push(this)});a.length>0&&i(a);return f(b)},analyzeNode:function(k,h){var z="[bg-include]",l="bg-include",v=k.tagName,j=a;if(b.isNullEmpty(v))return d;v=v.toLowerCase();var F=h.view.$getModule();j=F.command(v);var o=[],C=[],s=e,w=a,y=d,u=d,t=d,J=v=="script";if(J)s=d;var E=function(b,a,c,e,d){y=a.replace;u=a.include;w=a.tmpl;t||(t=a.view);!s||(s=a.compileChild);b.push({aName:c,aVal:e,type:d,command:a})},B={},A=[],r=a,m=a;if(j){j=g._makeCommand(j,h.view,k,B);E(o,j,v,c,"node")}else{var x=k.attributes;if(x&&x.length>0){var n=a,G;do{G=x.length;for(var I=0,Q=G;I<Q;I++){n=x[I];m=n&&n.nodeName;if(b.inArray(m,A)<0){A.push(m);r=n&&n.nodeValue;if(J&&m=="type")m=r;j=F.command(m);if(j){j=g._makeCommand(j,h.view,k,B);if(j.compilePre)r=n&&n.nodeValue;E(o,j,m,r,"attr");if(y||u)break}else if(r)b.view.textTagClass.hasTag(r)&&C.push({node:n,aName:m,aVal:r})}}}while(G!=x.length)}}B.list&&b.each(B.list,function(){var a=this.name;if(b.inArray(a,A)<0){A.push(a);j=F.command(a);E(o,j,a,this.value,"attr");if(y||u)return d}});var p=a,q=b.view;if(o.length>0)if(y||u){var H=f(k);if(!b.isNullEmpty(w)){var D=f(f.parseHTML(w));u&&w.indexOf(l)>=0&&D.find(z).add(D.filter(z)).each(function(){var a=f(this);if(b.isNullEmpty(a.attr(l))){var c=H.clone(d);g.setCompileNode(c[0]);a.removeAttr(l);a.append(c)}});var O=h.view,L=h.parentViewnode,P=b.clone(h,d,e);D.each(function(){var c=this;if(c.nodeType===1){if(t){h.view=q.viewClass.NewObject(c,O);if(h.action){h.view.$addAction(h.action);h.action=a}h.withData=a}p=q.viewnodeClass.NewObject(h.view,c,t?a:L,h.withData);h.parentViewnode=p;var f=o[o.length-1];q.viewnodeAttrClass.NewObject(h.view,p,f.type,f.aName,f.aVal,f.command)}if(s){h.node=c;g.traverseNodes(h)}h=b.clone(P,d,e)}).insertBefore(H)}i(H);s=d}else{!b.isNullEmpty(w)&&f(k).html(w);if(t){h.view=q.viewClass.NewObject(k,h.view);if(h.action){h.view.$addAction(h.action);h.action=a}h.withData=a}var K=h.parentViewnode;p=q.viewnodeClass.NewObject(h.view,k,t?a:K,h.withData);h.parentViewnode=p;var M=a;b.each(o,function(){var a=this;M=q.viewnodeAttrClass.NewObject(h.view,p,a.type,a.aName,a.aVal,a.command)})}if(!(y||u)&&C.length>0){var N=a;b.each(C,function(){N=q.textTagClass.NewObject(h.view,p||h.parentViewnode,this.node,this.aName,this.aVal,a,k)})}return s}},n=b.compile.tmplClass=b.Class(b.ajax.ajaxClass,function(){var a=b.ajax.ajaxClass.prototype,c={};this.Define({_initAjax:function(){var a=this;if(a._init_tmpl_===e)return;a._init_tmpl_=e;var d=a.view();d&&!d.isDisposed&&d._addReadyDep();a.onDispose(function(){d&&!d.isDisposed&&d._decReadyDep()}).dataType("text");b.compile.tmplCacheMetas.test(a.url())&&a.cacheTo(a.cacheTo()||c).cacheMax(a.cacheMax()<=0?350:a.cacheMax());a._ajaxCache(b.supportWorkspace)},"get":function(){this._initAjax();a["get"].call(this)},post:function(){this._initAjax();a.post.call(this)}});this.Initialization(function(a){this.base(a)})});b.compile.tmplCacheMetas=/\.(htm|html|tmpl|txt)(\?.*)*$/i;var m=b.compile.templateClass=b.Class(function(){var i="compiled",h="compilePre",j=function(e,b,f,c,d){g.traverseChildrenNodes(e,{node:a,parentViewnode:b,view:f,withData:a,action:d,withDataList:c})},k={};this.Static({cacheMax:100});this.Prop({action:a,async:e,fromUrl:c,withData:a,withDataList:a,stop:d,view:a});this.Define({fromJquery:function(a){this._jo=f(a);return this},appendTo:function(a){this._parentNode=f(a)[0];return this},fromNode:function(a){return this.fromJquery(a)},fromHtml:function(a){return this.fromJquery(f.parseHTML(a,e))},_isEnd:function(){var a=this;return a.isDisposed||a.stop()||a.view()&&a.view().isDisposed},onCompilePre:function(a){return this.on(h,a)},onCompiled:function(a){return this.on(i,a)},_compile:function(){var a=this,c=a._jo,f=a._parentNode||c&&c.parent()[0];if(!f)return;var l=!a._parentNode;try{a.trigger(h,[c]);var d=a.view(),e=b.view.viewnodeClass.getViewnode(f);if(d){if(e.view()!=d)e=d.$viewnode()}else d=b.view(f)||e.view();var n=a.withData(),k=a.withDataList(),m=a.action();j(c,e,d,k,m);k&&k.length>0&&(c=g.checkTmplWithdataNode(c));!l&&c.appendTo(f);d._handel()}catch(o){b.trace(o)}a.trigger(i,[c]);a.dispose()},compile:function(){var a=this;if(a._isEnd())return a;if(a._jo)a._compile();else if(a._parentNode&&a.fromUrl()){var c=a,d=a.view();b.tmpl(a.fromUrl(),d).success(function(a){if(c._isEnd())return;c.fromHtml(a).compile()}).async(a.async()).onDispose(function(){c.dispose()}).get()}return a}})}),k=b.compile.bindClass=b.Class(function(){var f={_cacheName:"__contextFun__",resetContextFun:function(a){a[f._cacheName]={}},evalScriptContextFun:function(j,a,m,l,i){a=a!==d;var e=["content",a].join("_"),g=j[f._cacheName];if(g[e])return g[e];var k=j.$attrValue();try{var h=[a?"return ":c,k,";"].join(c);return g[e]=new Function("$view","node","$withData","bingo",["with ($view) {",i?"with ($withData) {":c,"return bingo.proxy(node, function (event) {",a?["try {",h,"} catch (e) {","if (bingo.isDebug) bingo.trace(e);","}"].join(c):h,"});",i?"}":c,"}"].join(c))(m,l,i,b)}catch(n){console.warn(["evalScriptContextFun: ",h].join(c));b.trace(n);return j[e]=function(){return k}}}};this.Prop({view:a,node:a,viewnode:a,_filter:{$get:function(){var a=this,e=a.value;if(!b.isNullEmpty(e)){a.value=c;var d=a.owner;a.filter=b.filter.createFilter(e,d.view(),d.node(),d.getWithData())}return a.filter}},$attrValue:{$get:function(){var a=this.owner._filter();return a?a.content:this.value},$set:function(a){if(this.value!=a){this.value=a;var b=this.owner;b._filter(a);f.resetContextFun(b)}}}});this.Define({$eval:function(c){var a=this,b=a.getWithData(),e=f.evalScriptContextFun(a,d,a.view(),a.node(),b);return e(c)},$resultsNoFilter:function(c){var a=this,b=a.getWithData(),d=f.evalScriptContextFun(a,e,a.view(),a.node(),b);return d(c)},$results:function(a){var b=this.$resultsNoFilter(a);return this.$filter(b)},$getValNoFilter:function(){var e=this.$attrValue(),d=e,a=this.getWithData(),c;if(a)c=b.datavalue(a,d);if(b.isUndefined(c)){a=this.view();c=b.datavalue(a,d)}if(b.isUndefined(c)){a=window;c=b.datavalue(a,d)}return c},$value:function(f){var c=this,g=c.$attrValue(),e=g,d=c.getWithData(),a;if(d)a=b.datavalue(d,e);if(b.isUndefined(a)){d=c.view();a=b.datavalue(d,e)}if(b.isUndefined(a)){d=window;a=b.datavalue(d,e)}if(arguments.length>0){if(b.isVariable(a))a(f);else if(b.isUndefined(a))b.datavalue(c.getWithData()||c.view(),e,f);else b.datavalue(d,e,f);return c}else return c.$filter(a)},$filter:function(a){var b=this._filter();return b?b.filter(a):a},getWithData:function(){return this._withData}});this.Initialization(function(e,d,b,c){var a=this;a._withData=c;a.view(e).node(d);a.content=b;a.$attrValue(b)})});b.compile.bind=function(d,c,b,a){return k.NewObject(d,c,b,a)};var l=b.compile.nodeBindClass=b.Class(b.linkToDom.LinkToDomClass,function(){this.Define({$getAttr:function(f){var d=this;if(!b.hasOwnProp(d._attrs,f)){var e=d.node().attributes[f];e=e?e.nodeValue:c;d._attrs[f]=!b.isNullEmpty(e)?k.NewObject(d.view(),d.node(),e,d.withData()):a}return d._attrs[f]},$attrValue:function(d,e){var a=this;if(arguments.length==1){var b=a.node().attributes[d];return b?a.$getAttr(d).$attrValue():c}else{var b=a.$getAttr(d);b&&b.$attrValue(e);return a}},$eval:function(c,b){var a=this.$getAttr(c);return a&&a.$eval(b)},$results:function(c,b){var a=this.$getAttr(c);return a&&a.$results(b)},$value:function(c,b){var a=this.$getAttr(c);if(!a)return;if(arguments.length==1)return a.$value();else{a.$value(b);return this}}});this.Prop({view:a,node:a,withData:a});this.Initialization(function(e,c,d){var a=this;a.base();a.withData(d).view(e).node(c);a.linkToDom(c);a._attrs={};a.onDispose(function(){var a=this._attrs;b.eachProp(a,function(a){a.dispose&&a.dispose()})})})});b.compile.bindNode=function(c,b,a){return l.NewObject(c,b,a)};f(function(){j=f("<div></div>");b._startMvc()})})(bingo,window.jQuery);(function(a){var d=false,c=true,b=null;"use strict";a.view=function(d){var c=$(d);if(c.size()==0)return b;else{var a=e.getViewnode(c[0]);return a?a.view():b}};var g=b;a.rootView=function(){return g};var j=a.view.viewClass=a.Class(a.linkToDom.LinkToDomClass,function(){var h="_readyAll_",f="_initdata_",g="_initdatasrv_",i="_actionBefore_";this.Define({_setParent:function(a){if(a){this.$parentView(a);a._addChild(this)}},_addChild:function(a){this.$children.push(a)},_removeChild:function(c){var b=this.$children;b=a.removeArrayItem(c,b);this.$children=b},_compile:function(){var a=this.$viewnode();!a.isDisposed&&a._compile()},_action:function(){var b=this,e=b;if(b._actions.length>0){b.end(i);var f=b._actions;b._actions=[];a.each(f,function(){a.factory(this).view(e).inject()})}var d=b.$viewnode();!d.isDisposed&&d._action();if(!b.isDisposed&&b._isReadyDec_!==c){b._isReadyDec_=c;setTimeout(function(){e._decReadyDep()},10)}},_link:function(){var a=this.$viewnode();!a.isDisposed&&a._link()},_handel:function(){var a=this;a._action();a._compile();a._link();a._handleChild()},_handleChild:function(){a.each(this.$children,function(){!this.isDisposed&&this._handel()})},$isReady:d,_sendReady:function(){this._sendReady=a.noop;var b=this;a.ajaxSyncAll(function(){b.end(g)},this).alway(function(){a.ajaxSyncAll(function(){b.end(f)},b).alway(function(){b.end("_ready_");b.$isReady=c;b._decReadyParentDep();b.$update()})})},onActionBefore:function(a){return this.on(i,a)},onInitDataSrv:function(a){return this.on(g,a)},onInitData:function(a){return this.on(f,a)},onReady:function(a){return this.on("_ready_",a)},onReadyAll:function(a){return this.on(h,a)},_addReadyDep:function(){var b=this,c=b.__readySync;if(!c)c=b.__readySync=a.ajaxSync(b).success(a.proxy(b,function(){if(this.isDisposed)return;this._sendReady()}));!c.isDisposed&&c.addCount();return b},_decReadyDep:function(){var a=this.__readySync;a&&!a.isDisposed&&a.decCount();return this},_addReadyParentDep:function(){var b=this,c=b.__readyParentSync;if(!c)c=b.__readyParentSync=a.ajaxSync(b).success(a.proxy(b,function(){if(this.isDisposed)return;this.end(h);var a=this.$parentView();a&&a.disposeStatus==0&&a._decReadyParentDep()}));!c.isDisposed&&c.addCount();return b},_decReadyParentDep:function(){var a=this.__readyParentSync;a&&!a.isDisposed&&a.decCount();return this},$setModule:function(a){a&&(this._module=a);return this},$getModule:function(){return this._module||a.defaultModule(this.$getApp())},$setApp:function(a){a&&(this._app=a);return this},$getApp:function(){return this._app||(this._module?this._module.app:a.defaultApp())},$addAction:function(a){a&&this._actions.push(a);return this},$getViewnode:function(a){return e.getViewnode(a||this.$node())},$getNode:function(a){var b=this.__$node||(this.__$node=$(this.$node()));return a?b.find(a):b},$update:function(){return this.$publish()},$updateAsync:function(){this.$isReady===c&&this.$observer().publishAsync();return this},$apply:function(b,c){var a=this;if(b){a.$update();b.apply(c||a);a.$updateAsync()}return a},$proxy:function(b,c){var a=this;return function(){a.$update();b.apply(c||this,arguments);a.$updateAsync()}},$publish:function(){this.$isReady&&this.$observer().publish();return this},$observer:function(){return a.observer(this)},$subscribe:function(e,a,d,b,c){return this.$observer().subscribe(e,a,d,b,c)},$subs:function(){return this.$subscribe.apply(this,arguments)},$using:function(d,b){this._addReadyDep();var c=this;a.using(d,function(){if(c.isDisposed)return;b&&b();c._decReadyDep()},a.usingPriority.NormalAfter);return this},$timeout:function(a,c){this._addReadyDep();var b=this;return setTimeout(function(){if(!b.isDisposed){a&&a();b.$updateAsync()._decReadyDep()}},c||1)}});this.Prop({$parentView:b,$node:b,$viewnode:b});this.Initialization(function(e,d){var c=this;c.base();c.linkToDom(e);a.extend(c,{$children:[],_module:b,_app:b,_actions:[]});c.$node(e);if(d){c._setParent(d);d._addReadyParentDep()}c._addReadyDep();c._addReadyParentDep();c.onDispose(function(){var b=this,c=b.$parentView();c&&c.disposeStatus==0&&c._removeChild(b);if(!b.isDisposeFormDom){!b.$viewnode().isDisposed&&b.$viewnode().dispose();a.each(b.$children,function(a){a&&a.dispose()})}})})}),e=a.view.viewnodeClass=a.Class(a.linkToDom.LinkToDomClass,function(){var f=this;f.Static({vnName:["bg_cpl_node",a.makeAutoId()].join("_"),vnDataName:["bg_domnode",a.makeAutoId()].join("_"),getViewnode:function(a){return a?this.isViewnode(a)?$(a).data(this.vnDataName):this.getViewnode(a.parentNode||document.documentElement):b},setViewnode:function(a,b){a[this.vnName]="1";$(a).data(this.vnDataName,b)},removeViewnode:function(b){var a=b.node;a[this.vnName]=="0";$(a).removeData(this.vnDataName)},isViewnode:function(a){return a[this.vnName]=="1"}});f.Define({_setParent:function(b){var a=this;if(b){a.parentViewnode(b);b._addChild(a)}else a.view().$viewnode(a)},_addChild:function(a){this.children.push(a)},_removeChild:function(c){var b=this.children;b=a.removeArrayItem(c,b);this.children=b},_sortAttrs:function(){if(this.attrList.length>1)this.attrList=a.linq(this.attrList).sortDesc("_priority").toArray()},_compile:function(){var b=this;if(!b._isCompiled){b._isCompiled=c;b._sortAttrs();a.each(b.attrList,function(){!this.isDisposed&&this._compile()})}a.each(b.children,function(){!this.isDisposed&&this._compile()});b._resetCmpText()},_action:function(){var b=this;if(!b._isAction){b._isAction=c;a.each(b.attrList,function(){!this.isDisposed&&this._action()})}a.each(b.children,function(){!this.isDisposed&&this._action()})},_link:function(){var b=this;if(!b._isLinked){b._isLinked=c;a.each(b.attrList,function(){!this.isDisposed&&this._link()})}a.each(b.textList,function(){!this.isDisposed&&this._link()});a.each(b.children,function(){!this.isDisposed&&this._link()})},$getAttr:function(c){c=c.toLowerCase();var e=b;a.each(this.attrList,function(){if(this.attrName==c){e=this;return d}});return e},$html:function(c){var b=this.node();if(arguments.length>0){$(b).html("");a.compile(this.view()).fromHtml(c).appendTo(b).compile();return this}else return $(b).html()},getWithData:function(){return this._withData},_isCompileText:function(b){return b?a.inArray(b,this._textNodes)>=0:d},_setCompileText:function(a){this._textNodes.push(a)},_rmCompileText:function(b){this._textNodes=a.removeArrayItem(b,this._textNodes)},_resetCmpText:function(){this._textNodes=a.linq(this._textNodes).where(function(){return!h(this)}).toArray();var b=a.rootView().$viewnode();this!=b&&b._resetCmpText()}});f.Prop({view:b,node:b,parentViewnode:b});f.Initialization(function(h,f,c,g){var b=this;b.base();b.linkToDom(f);e.setViewnode(f,b);a.extend(b,{attrList:[],textList:[],children:[],_isCompiled:d,_isLinked:d,_isAction:d,_textNodes:[]});b._withData=g||c&&c.getWithData();b.view(h).node(f)._setParent(c);b.onDispose(function(){var b=this;if(!b.isDisposeFormDom){e.removeViewnode(b);a.each(b.children,function(a){a&&a.dispose()})}a.each(b.attrList,function(a){a&&a.dispose()});a.each(b.textList,function(a){a&&a.dispose()});var c=b.parentViewnode();if(c)c.disposeStatus==0&&c._removeChild(b);b.attrList=b.children=b.textList=b._textNodes=[]})})}),i=a.view.viewnodeAttrClass=a.Class(a.compile.bindClass,function(){var e="onChange";this.Define({_priority:50,_compile:function(){var c=this.command,b=c.compile;b&&a.factory(b).viewnodeAttr(this).widthData(this.getWithData()).inject()},_action:function(){var c=this.command,b=c.action;b&&a.factory(b).viewnodeAttr(this).widthData(this.getWithData()).inject()},_link:function(){var b=this,d=b.command,c=d.link;c&&a.factory(c).viewnodeAttr(b).widthData(b.getWithData()).inject();b._init()},onChange:function(a){return this.on(e,a)},onInit:function(a){return this.on("onInit",a)},$subs:function(c,b,f){var a=this;if(arguments.length==1){b=c;var d=a;c=function(){return d.$results()}}var g=b,d=a;b=function(a){var b=g.apply(this,arguments);d.trigger(e,[a]);return b};a.view().$subs(c,b,f,a,100);return a},$subsResults:function(c,e){var b=d;return this.$subs(a.proxy(this,function(){var c=this.$resultsNoFilter();b=a.isVariable(c);return b?c:this.$filter(c)}),a.proxy(this,function(a){c&&c.call(this,b?this.$filter(a):a)}),e)},$subsValue:function(c,e){var b=d;return this.$subs(a.proxy(this,function(){var c=this.$getValNoFilter();b=a.isVariable(c);return b?c:this.$filter(c)}),a.proxy(this,function(a){c&&c.call(this,b?this.$filter(a):a)}),e)},_init:function(){var d=this;d.__isinit=c;var f=d.__initParam;if(f){var g=f.p,h=f.p1;d.__initParam=b;var e=a.isFunction(g)?g.call(d):g;e=a.variableOf(e);h.call(d,e);d.trigger("onInit",[e])}},$init:function(b,c){var a=this;if(arguments.length==1){c=b;var d=a;b=function(){return d.$results()}}a.__initParam={p:b,p1:c};a.__isinit&&a._init();return a},$initResults:function(b){return this.$init(a.proxy(this,function(){return this.$results()}),b)},$initValue:function(b){return this.$init(a.proxy(this,function(){return this.$value()}),b)}});this.Initialization(function(g,b,f,e,d,c){var a=this;a.base(g,b.node(),d,b.getWithData());a.viewnode(b);b.attrList.push(a);a.type=f;a.attrName=e.toLowerCase();a.command=c;a._priority=c.priority||50})}),h=function(a){try{return!a||!a.parentNode||!a.parentNode.parentNode||!a.parentNode.parentElement}catch(b){return c}},f=a.view.textTagClass=a.Class(function(){var e=this;e.Static({_regex:/\{\{(.+?)\}\}/gi,_regexRead:/^\s*:\s*/,hasTag:function(a){this._regex.lastIndex=0;return this._regex.test(a)}});e.Define({_link:function(){var e=this;if(!e._isLinked){e._isLinked=c;var n=e.attrValue,i=[],h=e,j=e.node(),s=j.nodeType,u=e.attrName,l=e.view(),r=e.parentNode(),k=d,g=b,o=function(a){if(s!=3)j.nodeValue=a;else{m();g=$.parseHTML(a);$(g).insertAfter(j)}},m=function(){g&&a.compile.removeNode(g);g=b},p=n.replace(f._regex,function(g,b){var d={};if(f._regexRead.test(b))b=b.replace(f._regexRead,"");else k=c;var e=a.compile.bind(l,j,b,h.getWithData());d.text=g,d.context=e;i.push(d);var m=e.$results();return d.value=a.toStr(a.variableOf(m))});o(p);p="";if(k){a.each(i,function(b){var c=b.context,e=b.text;l.$subs(function(){return h._isRemvoe()?a.makeAutoId():c.$results()},function(c){if(h._isRemvoe()){h.dispose();return}b.value=a.toStr(c);q()},d,h,100)});var q=function(){var b=n;a.each(i,function(a){var d=a.text,c=a.value;b=b.replace(d,c)});o(b)}}var t=function(){m();a.each(i,function(a){a.context&&a.context.dispose()});i=b};e.onDispose(function(){h=g=j=l=r=b;t()});!k&&setTimeout(a.proxy(e,function(){this.dispose()}),1)}},_isRemvoe:function(){var a=this,b=a.node&&a.node();return a.isDisposed||h(a.parentNode()||b)},getWithData:function(){return this._withData}});e.Prop({view:b,node:b,parentNode:b,viewnode:b});e.Initialization(function(i,c,e,d,g,h,f){var b=this;b._withData=h||c.getWithData();b.view(i).viewnode(c).node(e).parentNode(f);c.textList.push(b);b.attrName=d&&d.toLowerCase();b.attrValue=g;e.nodeValue="";b.onDispose(function(){var c=this;if(c.node().nodeType==3){var b=c.viewnode();if(b&&b.disposeStatus==0){b.textList=a.removeArrayItem(c,b.textList);b._rmCompileText(c.node())}}})})});(function(){var d=document.documentElement,c=a.view;g=c.viewClass.NewObject(d);c.viewnodeClass.NewObject(g,d,b,b)})()})(bingo);(function(a){"use strict";a.filter.createFilter=function(c,e,d,a){return b.createFilter(c,e,d,a)};a.filter.regex=/[|]+[ ]?([^|]+)/g;var b={hasFilter:function(b){a.filter.regex.lastIndex=0;return a.filter.regex.test(b)},removerFilterString:function(b){if(a.isNullEmpty(b)||!this.hasFilter(b))return b;a.filter.regex.lastIndex=0;var c=b.replace(a.filter.regex,function(a){return a.indexOf("||")==0?a:""});return a.trim(c)},getFilterStringList:function(b){if(a.isNullEmpty(b)||!this.hasFilter(b))return[];var c=[];a.filter.regex.lastIndex=0;b.replace(a.filter.regex,function(b,a){b.indexOf("||")!=0&&c.push(a)});return c},getScriptContextFun:function(f,e,j,i,d){var b=f._ca||(f._ca={}),c="cont";if(b[c])return b[c];var h=["{",e,"}"].join(""),g=["return ",h,";"].join("");try{return b[c]=new Function("$view","$node","$withData","bingo",["with ($view) {",d?"with ($withData) {":"","return function ($data) {","try {",g,"} catch (e) {","if (bingo.isDebug) bingo.trace(e);","}","};",d?"}":"","}"].join(""))(j,i,d,a)}catch(k){a.trace(k);return b[c]=function(){return e}}},hasFilterParam:function(a){return a.indexOf(":")>=0},getFilterParamName:function(c){var b=c.split(":");return a.trim(b[0])},getFilterByView:function(c,b){return c?c.$getModule(b).filter(b):a.filter(b)},paramFn:function(f,c,e,d,a){return b.getScriptContextFun(f,c,e,d,a)},getFilterObjList:function(c,d,h,g){var e=this.getFilterStringList(h);if(e.length==0)return[];var f=[];a.each(e,function(j){var e=null;j=a.trim(j);if(a.isNullEmpty(j))return;var i={name:e,paramFn:e,fitlerFn:e},h=e;if(b.hasFilterParam(j)){i.name=b.getFilterParamName(j);h=b.getFilterByView(c,i.name);if(!h)return;h=c?a.factory(h).view(c).node(d).inject():h();i.paramFn=b.paramFn(i,j,c,d,g)}else{i.name=j;h=b.getFilterByView(c,i.name);if(!h)return;h=c?a.factory(h).view(c).node(d).inject():h()}i.fitlerFn=h;i.fitlerVal=function(c){var a=this;if(!a.fitlerFn)return c;var b=e;if(a.paramFn){b=a.paramFn(c);b&&(b=b[a.name])}return a.fitlerFn(c,b)};f.push(i)});return f},createFilter:function(d,h,g,f){var c={contentOrg:d},e=b.hasFilter(d);c._filters=e?b.getFilterObjList(h,g,d,f):[];c.content=b.removerFilterString(d);c.contentFT=d.replace(c.content,"");if(c._filters.length>0)c.filter=function(c){var b=a.variableOf(c);a.each(this._filters,function(){b=this.fitlerVal(b)});return b};else c.filter=function(a){return a};return c}}})(bingo);(function(a){var d=false,c=true,b=null;"use strict";a.render=function(d,f,e){a.render.regex.lastIndex=0;i.lastIndex=0;d=d.replace(i,"");var c=a.render.regex.test(d)?o(d,f,e):b;c&&(c=h(c));return{render:function(i,h,g,b,a){return!c?d:j(c,f,e,i,h,g,b,a)}}};a.render.regex=/\{\{\s*(\/?)(\:|if|else|for|tmpl|header|footer|empty|loading)(.*?)\}\}/g;var g=/[ ]*([^ ]+)[ ]+in[ ]+(?:(.+)[ ]+tmpl[ ]*=[ ]*(.+)[/]|(.+))*/g,m=/\/\s*$/,i=/<!--\s*\#(?:.|\n)*?-->/g,f=function(e,r,n,o,f,h,m,l,i){var d={isIf:r===c,ifReturn:c,isElse:m===c,isForeach:l===c,isEnd:n===c,isTag:o===c,role:a.isUndefined(i)?0:i,content:e,forParam:b,filterContext:b,fn:a.noop,flt:b,children:[]};if(d.isTag)if(!d.isEnd){d.filterContext=e;if(d.isForeach){var p=d.content;g.lastIndex=0;p.replace(g,function(){var c=d.forParam={};c.itemName=arguments[1];var b=arguments[2];c.tmpl=a.trim(arguments[3]);if(a.isNullEmpty(b))b=arguments[4];b=a.trim(b);var e=a.filter.createFilter(b,f,h);d.content=e.content;d.flt=e;c.dataName=d.content=e.content})}else{var j=a.filter.createFilter(e,f,h);d.content=j.content;d.flt=j}var q=k(d.content,f);d.fn=function(c,b){return q(c,b,a)}}return d},k=function(b,c){if(a.isNullEmpty(b))return a.noop;var d=b;try{return new Function("$view","$data","bingo",["try {",c?"with ($view) {":"","with ($data || {}) {","return "+b+";","}",c?"}":"","} catch (e) {",'return bingo.isDebug ? ("Error: " + (e.message || e)) : e.message;',"} finally {","$data = null;","}"].join(""))}catch(f){if(a.isDebug){var e=["Error:",f.message||f," render:",d].join("");throw new Error(e);}else return function(){return f.message}}},o=function(l,p,o){var k=[],g=0,e=[],i=d,h=0,j=function(a){return a>0?e[a-1].children:k},n=function(a){return a>0?e.pop().children:k};l.replace(a.render.regex,function(w,G,v,l,x,E){var D=E.slice(g,x),q=a.isNullEmpty(D)?b:f(D),r=e.length,k=j(r),A=G=="/",z=v=="tmpl";if(!i){i=z;if(z){g=x+w.length;h=1;return}}else{if(z)if(A){h--;i=h>0}else h++;q&&k.push(q);i&&k.push(f(w));g=x+w.length;return}var F=l.indexOf(" ")==0;!a.isNullEmpty(l)&&(l=a.trim(l));var t=v=="else";if(t)if(!a.isNullEmpty(l))if(!F)t=d;else{l=a.trim(l);l=a.isNullEmpty(l)?"true":l}else l="true";var B=v=="if"||t,y=v=="for",C=d;if(y)C=m.test(l);var s=0;switch(v){case"header":s=1;break;case"footer":s=2;break;case"empty":s=3;break;case"loading":s=4}var u=f(l,B,A,c,p,o,t,y,s);if(t){k=n(r);q&&k.push(q);r=e.length;k=j(r);k.push(u);e.push(u)}else if(A){k=n(r);q&&k.push(q);if(B){r=e.length;k=j(r);k.push(u)}}else{k=j(r);q&&k.push(q);k.push(u);(B||y&&!C||s>0)&&e.push(u)}g=x+w.length});g<l.length&&k.push(f(l.slice(g)));return k},h=function(d){var c={header:b,footer:b,empty:b,loading:b,body:[]};a.each(d,function(){var a=this;switch(a.role){case 1:c.header=a;break;case 2:c.footer=a;break;case 3:c.empty=a;break;case 4:c.loading=a;break;default:c.body.push(a)}});return c},l=function(e,f){for(var a,b=f;b>=0;b--){a=e[b];if(a.isEnd&&a.isIf)break;if(a.isIf&&a.ifReturn)return c}return d},e=function(n,f,m,b,k,i){var g=[],o=[];a.each(n,function(o,v){if(!o.isTag)g.push(o.content);else if(!o.isEnd)if(o.isForeach){var q=o.forParam;if(!q)return;var r=q.tmpl,t=o.flt.filter(o.fn(f,b),b),p="";if(a.isNullEmpty(r)){var s=o.compileData;if(!s){s=o.compileData=h(o.children);o.children=[]}p=j(s,f,m,t,q.itemName,b,k,i)}else{if(!o.__renderObj){var u=r.indexOf("#")!=0;if(!u)p=$(r).html();else a.tmpl(r,f).success(function(a){p=a}).cacheQurey(c).async(d).get();if(a.isNullEmpty(p))return;o.__renderObj=a.render(p,f,m)}p=o.__renderObj.render(t,q.itemName,b,k,i)}g.push(p)}else if(o.isIf){if(o.isElse){if(l(n,v-1)||!(o.ifReturn=o.flt.filter(o.fn(f,b),b)))return}else if(!(o.ifReturn=o.flt.filter(o.fn(f,b),b)))return;var w=e(o.children,f,m,b,k,i);g.push(w)}else{var x=o.flt.filter(o.fn(f,b),b);g.push(x)}});return g.join("")},n=function(n,r,q,p,f,h,j,i,m,g){var c="_",b=i?a.clone(i,d):{};b.$parent=i;b[[f,"index"].join(c)]=b.$index=h;b[[f,"count"].join(c)]=b.$count=j;b[[f,"first"].join(c)]=b.$first=h==0;b[[f,"last"].join(c)]=b.$last=h==j-1;var k=h%2==0;b[[f,"odd"].join(c)]=b.$odd=k;b[[f,"even"].join(c)]=b.$even=!k;b[f]=p;g&&g.push(b);var o=g?g.length-1:-1,l=e(n,r,q,b,h,g);return g?a.compile.injectTmplWithDataIndex(l,o,m):l},j=function(c,k,j,g,m,i,h,f){a.isString(m)||(m="item");var d=[],p=f?f.length:-1,o=b;if(p>=0){o=a.compile.injectTmplWithDataIndex("",-1,p-1);d.push(o)}c.header&&d.push(e(c.header.children,k,j,i,h,f));if(a.isNull(g)){var l=c.loading||c.empty;l&&d.push(e(l.children,k,j,i,h,f))}else{if(!a.isArray(g))g=[g];if(g.length==0){var l=c.empty||c.loading;l&&d.push(e(l.children,k,j,i,h,f))}else{var q=c.body,r=g.length;a.each(g,function(b,a){d.push(n(q,k,j,b,m,a,r,i,h,f))})}}p>=0&&d.push(o);c.footer&&d.push(e(c.footer.children,k,j,i,h,f));return d.join("")}})(bingo);(function(a,j){var f="$observer",e="$withData",c="node",b="$view";"use strict";a.factory("$rootView",function(){return a.rootView()});a.factory("$compile",[b,function(b){return function(){return a.compile(b)}}]);a.factory("$tmpl",[b,function(b){return function(c){return a.tmpl(c,b)}}]);a.factory("$node",[c,function(a){return j(a)}]);a.factory("$factory",[b,function(b){return function(c){return a.factory(c).view(b)}}]);a.factory("$ajax",[b,function(b){var c=function(c){return a.ajax(c,b)};c.syncAll=function(c){return a.ajaxSyncAll(c,b)};return c}]);a.factory("$filter",[b,c,e,function(c,d,b){return function(f,e){return a.filter.createFilter(f,c,d,e||b)}}]);a.factory("$var",[b,function(b){return function(d,c){return a.variable(d,c,b)}}]);a.factory("$model",[b,function(b){return function(c){return a.model(c,b)}}]);a.factory("$bindContext",[b,c,e,function(c,d,b){return function(g,f,e){f||(f=d);e||(e=b);return a.compile.bind(c,f,g,e)}}]);a.factory("$nodeContext",[b,c,e,function(c,d,b){return function(f,e){f||(f=d);e||(e=b);return a.compile.bindNode(c,f,e)}}]);a.factory(f,[b,function(b){return a.observer(b)}]);a.each(["$subscribe","$subs"],function(b){a.factory(b,[f,"$attr",function(a,b){return function(e,c,d){return a.subscribe(e,c,d,b)}}])});a.factory("$module",[b,function(b){return function(e){var c=null,d=arguments.length==0?b.$getModule():b.$getApp().module(e);return!d?c:{$service:function(e){var f=d.service(e);return!f?c:a.factory(e).view(b).inject()},$controller:function(f){var e=d.controller(f);return!e?c:{$action:function(f){var d=e.action(f);return!d?c:a.factory(d).view(b).inject()}}}}}}]);a.factory("$route",function(){return function(b){return a.route(b)}});a.factory("$routeContext",function(){return function(b){return a.routeContext(b)}});var g={},i=a.cacheToObject(g).max(100);a.factory("$cache",function(){return i});var h={},d=a.cacheToObject(h).max(20);a.factory("$param",[b,function(){return function(b,a){d.key(b);if(arguments.length<=1){var c=d.get();d.clear();return c}else d.set(a)}}])})(bingo,window.jQuery);(function(a){a.factory("$linq",function(){return function(b){return a.linq(b)}})})(bingo);(function(a){var b="bg-route",c="_bg_location_";a.location=function(f){a.isString(f)&&(f='[bg-name="'+f+'"]');var e=null;if(a.isString(f))e=$(f);else if(f)e=$(f).closest("["+b+"]");var h=e&&e.size()>0?true:false;if(!h)e=$(document.documentElement);var g=e.data(c);if(!g){g=d.NewObject().ownerNode(e).linkToDom(e).isRoute(h).name(e.attr("bg-name")||"");e.data(c,g)}return g};a.location.onHref=a.Event();a.location.onLoaded=a.Event();var d=a.location.Class=a.Class(a.linkToDom.LinkToDomClass,function(){var d="onCloseBefore",c="bg-location-change";this.Prop({ownerNode:null,isRoute:false,name:""});this.Define({queryParams:function(){return this.routeParams().queryParams},routeParams:function(){var c=this.url(),b=a.routeContext(c);return b.params},href:function(f,e){var d=a.isNullEmpty(e)?this.isRoute()?this.ownerNode():null:$("["+b+'][bg-name="'+e+'"]');d&&d.size()>0&&d.attr(b,f).trigger(c,[f]);return this},reload:function(a){return this.href(this.url(),a)},onChange:function(a){var b=this;this.isRoute()&&a&&this.ownerNode().on(c,function(d,c){a.call(b,c)})},onLoaded:function(b){var c=this;this.isRoute()&&b&&this.ownerNode().on("bg-location-loaded",function(e,d){b.call(c,d);a.location.onLoaded.trigger([c])})},url:function(){return this.isRoute()?this.ownerNode().attr(b):window.location+""},toString:function(){return this.url()},views:function(){return a.view(this.ownerNode()).$children},close:function(){if(!this.isRoute())return;if(this.trigger(d)===false)return;this.ownerNode().remove()},onCloseBefore:function(a){return this.on(d,a)},onClosed:function(c){var a="onClosed",b=this;if(b.__closeed!==true){b.__closeed=true;b.onDispose(function(){this.trigger(a)})}return b.on(a,c)}})});a.factory("$location",["node",function(b){return a.location(b)}])})(bingo);(function(a){a.factory("$render",["$view","node",function(b,c){return function(d){return a.render(d,b,c)}}])})(bingo);(function(a){a.factory("$timeout",["$view",function(a){return function(b,c){return a.$timeout(function(){b&&b()},c)}}])})(bingo);(function(a){var b="bg-action-add";a.each(["bg-action",b],function(d){var c=d==b;a.command(d,function(){var b=null;return{priority:c?995:1e3,tmpl:"",tmplUrl:"",replace:false,include:false,view:!c,compileChild:c,compilePre:b,action:b,link:b,compile:["$view","$compile","$node","$attr",function(d,h,i,k){var g=k.$attrValue(),e=b;if(!a.isNullEmpty(g)){e=k.$results();if(!e)e=a.datavalue(d.$parentView(),g)}if(a.isNullEmpty(g)||a.isFunction(e)||a.isArray(e)){e&&d.$addAction(e);!c&&d.$using([],function(){h().fromNode(i[0].childNodes).compile()})}else{var l=g,j=a.routeContext(l),f=j.actionContext();if(f.action){d.$setApp(f.app);d.$setModule(f.module);d.$addAction(f.action);!c&&d.$using([],function(){h().fromNode(i[0].childNodes).compile()})}else d.$using(l,function(){var a=j.actionContext();if(a.action){d.$setApp(a.app);d.$setModule(a.module);d.$addAction(a.action);!c&&d.$using([],function(){h().fromNode(i[0].childNodes).compile()})}})}}]}})})})(bingo);(function(a){a.each("attr,prop,src,checked,disabled,enabled,readonly,class".split(","),function(b){a.command("bg-"+b,function(){return["$view","$attr","$node",function(f,d,c){var a="checked",e=function(e){var d="disabled";switch(b){case"attr":c.attr(e);break;case"prop":c.prop(e);break;case"enabled":c.prop(d,!e);break;case d:case"readonly":case a:c.prop(b,e);break;default:c.attr(b,e)}};d.$subsResults(function(a){e(a)},b=="attr"||b=="prop");d.$initResults(function(a){e(a)});b==a&&c.click(function(){var b=c.prop(a);d.$value(b);f.$update()})}]})})})(bingo);(function(a){a.each("event,click,blur,change,dblclick,focus,focusin,focusout,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,resize,scroll,select,submit,contextmenu".split(","),function(b){a.command("bg-"+b,function(){return["$view","$node","$attr",function(i,h,e){var g=function(b,a){h.on(b,function(){var b=a.apply(this,arguments);i.$update();return b})};if(b!="event"){var c=e.$value();if(!a.isFunction(c))c=function(a){return e.$eval(a)};g(b,c)}else{var d=e.$results();if(a.isObject(d)){var c=null;for(var f in d)if(a.hasOwnProp(d,f)){c=d[f];a.isFunction(c)&&g(f,c)}}}}]})})})(bingo);(function(a){"use strict";var b=/[ ]*([^ ]+)[ ]+in[ ]+(?:(.+)[ ]+tmpl[ ]*=[ ]*(.+)|(.+))/;a.each(["bg-for","bg-render"],function(b){a.command(b,function(){return{priority:100,compileChild:false,link:["$view","$compile","$node","$attr","$render","$tmpl",function(p,l,g,f,m,o){var b=c(g,f);g.html("");if(!b)return;var k=b.itemName,d=b.tmpl,h=function(e){var d=g,b="";d.html("");var c=[];b=i.render(e,k,null,-1,c);a.isNullEmpty(b)||l().fromHtml(b).withDataList(c).appendTo(d).compile()},j=function(a){i=m(a);f.$subsResults(function(a){h(a)},true);f.$initResults(function(a){h(a)})},e="",i=null;if(a.isNullEmpty(d))e=b.html;else{var n=d.indexOf("#")!=0;if(n)o(d).success(function(b){!a.isNullEmpty(b)&&j(b)}).get();else e=$(d).html()}!a.isNullEmpty(e)&&j(e)}]}})});var c=function(h,g){var c=g.content;if(a.isNullEmpty(c))c="item in {}";if(!b.test(c))c=["item in ",c].join("");var f="",d="",e="";c.replace(b,function(){f=arguments[1];d=arguments[2];e=a.trim(arguments[3]);if(a.isNullEmpty(d))d=arguments[4]});g.$attrValue(d);return{itemName:f,dataName:d,tmpl:e,html:e?"":a.compile.getNodeContentTmpl(h)}}})(bingo);(function(a){var b="$location";a.command("bg-route",function(){return{priority:1e3,replace:false,view:true,compileChild:false,compile:["$compile","$node","$attr",b,function(e,b,d,c){var a=null;c.onChange(function(c){a&&a.stop();a=e().fromUrl(c).appendTo(b).onCompilePre(function(){b.html("")}).onCompiled(function(){a=null;b.trigger("bg-location-loaded",[c])}).compile()});d.$init(function(){return d.$attrValue()},function(a){a&&c.href(a)})}]}});a.command("bg-route-load",function(){return[b,"$attr",function(b,c){c.$initResults(function(c){a.isFunction(c)&&b.onLoaded(function(a){c.call(b,a)})})}]});$(function(){$(document.documentElement).on("click","[href]",function(){var c=$(this),b=c.attr("href");if(b.indexOf("#")>=0){b=b.split("#");b=b[b.length-1].replace(/^[#\s]+/,"");if(!a.isNullEmpty(b)){var d=c.attr("bg-target");if(a.location.onHref.trigger([c,b,d])===false)return;var e=a.location(this);e.href(b,d)}}})})})(bingo);(function(a){a.command("bg-html",function(){return["$attr","$node","$compile",function(b,c,e){var d=function(b){c.html(a.toStr(b));e().fromJquery(c).compile()};b.$subsResults(function(a){d(a)});b.$initResults(function(a){d(a)})}]})})(bingo);(function(a){var b="bg-render-if",c="_tif_"+a.makeAutoId();a.each(["bg-if",b],function(e){var d=e==b;a.command(e,function(){return{compileChild:false,compile:["$attr","$node","$compile","$render",function(e,b,h,i){var f=a.compile.getNodeContentTmpl(b),j=d?i(f):null,g=function(a){b.html("");if(a){b.show();h().fromHtml(d?j.render({},c):f).appendTo(b).compile()}else b.hide()};e.$subsResults(function(a){g(a)});e.$initResults(function(a){g(a)})}]}})})})(bingo);(function(a){var b="bg-render-include",c="_tinc_"+a.makeAutoId();a.each(["bg-include",b],function(e){var d=e==b;a.command(e,function(){return["$view","$attr","$viewnode","$tmpl","$render",function(j,b,f,i,g){var h=b.$attrValue();if(a.isNullEmpty(h))return;var e=function(b){var e=b.indexOf("#")!=0,a="";if(e)i(b).success(function(b){a=b;f.$html(d?g(a).render({},c):a)}).get();else{a=$(b).html();f.$html(d?g(a).render({},c):a)}};b.$initResults(function(c){var d=!a.isUndefined(c);if(d){b.$subsResults(function(a){e(a)});e(c)}else e(h)})}]})})})(bingo);(function(a){a.command("bg-model",function(){return["$view","$node","$attr",function(j,c,e){var b="checked",d="checkbox_value_02",i=c.is(":radio"),f=c.is(":checkbox");f&&c.data(d,c.val());var g=function(){var a=c;return f?a.prop(b)?a.data(d):"":a.val()},h=function(d){var e=c;d=a.toStr(d);if(f)e.prop(b,e.val()==d);else if(i)e.prop(b,e.val()==d);else e.val(d)};if(i)c.click(function(){var a=g();e.$value(a);j.$update()});else c.on("change",function(){var a=g();e.$value(a);j.$update()});e.$subsValue(function(a){h(a)});e.$initValue(function(a){h(a)})}]})})(bingo);(function(a){a.each("style,show,hide,visible".split(","),function(b){a.command("bg-"+b,function(){return["$attr","$node",function(c,a){var d=function(c){switch(b){case"style":a.css(c);break;case"hide":c=!c;case"show":if(c)a.show();else a.hide();break;case"visible":c=c?"visible":"hidden";a.css("visibility",c);break;default:a.css(b,c)}};c.$subsResults(function(a){d(a)},b=="style");c.$initResults(function(a){d(a)})}]})})})(bingo);(function(a){a.command("bg-text",function(){return["$attr","$node",function(b,d){var c=function(b){d.text(a.toStr(b))};b.$subsResults(function(a){c(a)});b.$initResults(function(a){c(a)})}]})})(bingo);(function(a){var b="bg-render-include",c="_tinc_"+a.makeAutoId();a.each(["bg-include",b],function(e){var d=e==b;a.command(e,function(){return["$view","$attr","$viewnode","$tmpl","$render",function(j,b,f,i,g){var h=b.$attrValue();if(a.isNullEmpty(h))return;var e=function(b){var e=b.indexOf("#")!=0,a="";if(e)i(b).success(function(b){a=b;f.$html(d?g(a).render({},c):a)}).get();else{a=$(b).html();f.$html(d?g(a).render({},c):a)}};b.$initResults(function(c){var d=!a.isUndefined(c);if(d){b.$subsResults(function(a){e(a)});e(c)}else e(h)})}]})})})(bingo);(function(a){a.command("bg-node",function(){return["$attr","node",function(a,b){a.$value(b)}]})})(bingo);(function(a){a.command("text/bg-script",function(){return{priority:300,compileChild:false,compile:["$attr","$node","$bindContext",function(c,d,b){c.$init(function(){return d.html()},function(d){if(!a.isNullEmpty(d)){var c=b(d);c.$eval();c.dispose()}})}]}});a.command("bg-not-compile",function(){return{compileChild:false}})})(bingo);(function(a){"use strict";a.filter("eq",function(){return function(a,b){return a==b}});a.filter("neq",function(){return function(a,b){return a!=b}});a.filter("not",function(){return function(a){return!a}});a.filter("gt",function(){return function(a,b){return a>b}});a.filter("gte",function(){return function(a,b){return a>=b}});a.filter("lt",function(){return function(a,b){return a<b}});a.filter("lte",function(){return function(a,b){return a<=b}});a.filter("len",function(){return function(b){return b?a.isUndefined(b.length)?0:b.length:0}});a.filter("text",function(){return function(b){return a.htmlEncode(b)}});a.filter("html",function(){return function(b){return a.htmlDecode(b)}});a.filter("val",function(){return function(b,a){return a}});a.filter("len",function(){return function(a){return a&&a.length?a.length:0}});a.filter("sw",function(){return function(i,a){var b=a.length,d=b%2==1,h=d?a[b-1]:"";d&&b--;for(var g=null,f=false,e,c=0;c<b;c+=2){e=a[c];if(i==e){g=a[c+1],f=true;break}}return f?g:h}});a.filter("take",function(){return function(c,b){return a.linq(c).take(b[0],b[1])}});a.filter("asc",function(){return function(d,c){var b=a.linq(d);if(!a.isNullEmpty(c))b.sortAsc(c);else b.sortAsc();return b.toArray()}});a.filter("desc",function(){return function(d,c){var b=a.linq(d);if(!a.isNullEmpty(c))b.sortDesc(c);else b.sortDesc();return b.toArray()}})})(bingo)